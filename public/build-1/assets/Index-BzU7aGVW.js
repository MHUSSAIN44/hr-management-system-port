import{r as d,w as E,W as I,c as n,o as i,b as h,u as L,g as O,d as _,e,t as l,h as u,v as w,F as j,i as D,l as C,f as y,n as M,S as $}from"./app-CbFQf_sx.js";import{_ as H}from"./AdminLayout-CxtQk0Zj.js";import{_ as R}from"./SearchInput-DGL5slGC.js";import{_ as W}from"./Pagination-Dm5rR0tz.js";import"./ApplicationLogo-C9AT7BK-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-dbIahFAp.js";const G={class:"py-12"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},J={class:"grid grid-cols-2 gap-4 mb-6 sm:grid-cols-3 lg:grid-cols-5"},K={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-blue-500"},Q={class:"p-4"},X={class:"flex items-center justify-between"},Y={class:"text-2xl font-bold text-gray-900"},Z={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-green-500"},ee={class:"p-4"},te={class:"flex items-center justify-between"},se={class:"text-2xl font-bold text-gray-900"},oe={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-red-500"},le={class:"p-4"},ne={class:"flex items-center justify-between"},ie={class:"text-2xl font-bold text-gray-900"},ae={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-yellow-500"},re={class:"p-4"},de={class:"flex items-center justify-between"},ue={class:"text-2xl font-bold text-gray-900"},ce={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-purple-500"},me={class:"p-4"},pe={class:"flex items-center justify-between"},xe={class:"text-2xl font-bold text-gray-900"},ge={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},fe={class:"p-6 bg-white border-b border-gray-200"},ve={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},he={class:"md:col-span-2"},ye=["value"],be={class:"mt-4 grid grid-cols-1 md:grid-cols-6 gap-4"},we={class:"md:col-span-2"},ke={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},_e={class:"p-6"},je={class:"overflow-x-auto"},Ce={class:"min-w-full divide-y divide-gray-200"},Me={class:"bg-white divide-y divide-gray-200"},Ve={class:"px-6 py-4 whitespace-nowrap"},Se={class:"flex items-center"},Ae={class:"flex-shrink-0 h-10 w-10"},Fe={class:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center"},Le={class:"text-white text-sm font-semibold"},De={class:"ml-4"},Be={class:"text-sm font-medium text-gray-900"},Te={class:"text-sm text-gray-500"},ze={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ue={class:"px-6 py-4 whitespace-nowrap"},Ne={key:1,class:"text-sm text-gray-500"},Pe={class:"px-6 py-4 whitespace-nowrap"},Ee={class:"text-sm text-gray-900"},Ie=["title"],Oe={class:"px-6 py-4 whitespace-nowrap"},$e={class:"text-sm text-gray-900"},He=["title"],Re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},We={class:"px-6 py-4 whitespace-nowrap"},Ge={key:0,class:"text-xs text-gray-500"},qe={class:"px-6 py-4 whitespace-nowrap"},Je={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ke={class:"flex items-center justify-end space-x-2"},Qe=["onClick"],Xe={key:0},Ye={class:"mt-6"},it={__name:"Index",props:{attendance:Object,stats:Object,locations:Array,filters:Object},setup(a){const r=a,c=d(r.filters.employee||""),b=d(r.filters.per_page||15),m=d(r.filters.status||""),p=d(r.filters.shift||""),x=d(r.filters.location_id||""),k=d(r.filters.department_id||""),g=d(r.filters.date_from||""),f=d(r.filters.date_to||""),v=d(r.filters.month||"");E([c,b,m,p,x,k,g,f,v],()=>{I.get(route("admin.attendance.index"),{employee:c.value,per_page:b.value,status:m.value,shift:p.value,location_id:x.value,department_id:k.value,date_from:g.value,date_to:f.value,month:v.value},{preserveState:!0,replace:!0})});const B=()=>{c.value="",m.value="",p.value="",x.value="",k.value="",g.value="",f.value="",v.value=""},T=o=>new Date(o).toLocaleDateString(),V=o=>o?new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",z=o=>{switch(o){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";case"half_day":return"bg-orange-100 text-orange-800";case"checked_in":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},U=o=>{switch(o){case"morning":return"bg-blue-100 text-blue-800";case"evening":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},N=o=>o?o<=10?"Excellent":o<=50?"Good":o<=100?"Fair":"Poor":"Unknown",P=o=>o?o<=10?"bg-green-100 text-green-800":o<=50?"bg-blue-100 text-blue-800":o<=100?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800":"bg-gray-100 text-gray-800";return(o,t)=>(i(),n(j,null,[h(L(O),{title:"Attendance Management"}),h(H,null,{header:_(()=>t[8]||(t[8]=[e("div",{class:"flex justify-between items-center"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Attendance Management"),e("div",{class:"flex space-x-3"})],-1)])),default:_(()=>[e("div",G,[e("div",q,[e("div",J,[e("div",K,[e("div",Q,[e("div",X,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Records",-1)),e("p",Y,l(a.stats.total_records),1)]),t[10]||(t[10]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1))])])]),e("div",Z,[e("div",ee,[e("div",te,[e("div",null,[t[11]||(t[11]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Present Today",-1)),e("p",se,l(a.stats.present_today),1)]),t[12]||(t[12]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1))])])]),e("div",oe,[e("div",le,[e("div",ne,[e("div",null,[t[13]||(t[13]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Absent Today",-1)),e("p",ie,l(a.stats.absent_today),1)]),t[14]||(t[14]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])],-1))])])]),e("div",ae,[e("div",re,[e("div",de,[e("div",null,[t[15]||(t[15]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Late Today",-1)),e("p",ue,l(a.stats.late_today),1)]),t[16]||(t[16]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1))])])]),e("div",ce,[e("div",me,[e("div",pe,[e("div",null,[t[17]||(t[17]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Checked In Now",-1)),e("p",xe,l(a.stats.checked_in_now),1)]),t[18]||(t[18]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])])],-1))])])])]),e("div",ge,[e("div",fe,[t[31]||(t[31]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Filter Attendance Records",-1)),e("div",ve,[e("div",he,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search Employee",-1)),h(R,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),placeholder:"Search employee..."},null,8,["modelValue"])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),u(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},t[20]||(t[20]=[e("option",{value:""},"All Status",-1),e("option",{value:"present"},"Present",-1),e("option",{value:"absent"},"Absent",-1),e("option",{value:"late"},"Late",-1),e("option",{value:"half_day"},"Half Day",-1),e("option",{value:"checked_in"},"Checked In",-1)]),512),[[w,m.value]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Shift",-1)),u(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},t[22]||(t[22]=[e("option",{value:""},"All Shifts",-1),e("option",{value:"full-time"},"Full Time",-1),e("option",{value:"morning"},"Morning",-1),e("option",{value:"evening"},"Evening",-1)]),512),[[w,p.value]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),u(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>x.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},[t[24]||(t[24]=e("option",{value:""},"All Locations",-1)),(i(!0),n(j,null,D(a.locations,s=>(i(),n("option",{key:s.id,value:s.id},l(s.name),9,ye))),128))],512),[[w,x.value]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Month",-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>v.value=s),type:"month",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[C,v.value]])])]),e("div",be,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"From Date",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>g.value=s),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[C,g.value]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"To Date",-1)),u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>f.value=s),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[C,f.value]])]),e("div",we,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Per Page",-1)),u(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>b.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},t[29]||(t[29]=[e("option",{value:15},"15",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)]),512),[[w,b.value]])]),e("div",{class:"md:col-span-2 flex items-end"},[e("button",{onClick:B,class:"px-4 py-2 bg-gray-200 rounded-md text-xs font-semibold text-gray-700 hover:bg-gray-300"}," Reset Filters ")])])])]),e("div",ke,[e("div",_e,[e("div",je,[e("table",Ce,[t[35]||(t[35]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Employee"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Shift"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Check In"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Check Out"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Hours"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Location Accuracy"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Me,[(i(!0),n(j,null,D(a.attendance.data,s=>{var S,A;return i(),n("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Ve,[e("div",Se,[e("div",Ae,[e("div",Fe,[e("span",Le,l(s.employee.employee_name.split(" ").map(F=>F[0]).join("")),1)])]),e("div",De,[e("div",Be,l(s.employee.employee_name),1),e("div",Te,l((S=s.employee.department)==null?void 0:S.name)+" - "+l((A=s.employee.location)==null?void 0:A.name),1)])])]),e("td",ze,l(T(s.date)),1),e("td",Ue,[s.shift?(i(),n("span",{key:0,class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",U(s.shift)])},l(s.shift),3)):(i(),n("span",Ne,"-"))]),e("td",Pe,[e("div",Ee,l(V(s.check_in_time)),1),s.check_in_address?(i(),n("div",{key:0,class:"text-xs text-gray-500 truncate max-w-xs",title:s.check_in_address}," 📍 "+l(s.check_in_address),9,Ie)):y("",!0)]),e("td",Oe,[e("div",$e,l(V(s.check_out_time)),1),s.check_out_address?(i(),n("div",{key:0,class:"text-xs text-gray-500 truncate max-w-xs",title:s.check_out_address}," 📍 "+l(s.check_out_address),9,He)):y("",!0)]),e("td",Re,l(s.total_hours?s.total_hours+" hrs":"-"),1),e("td",We,[e("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P(s.check_in_accuracy)])},l(N(s.check_in_accuracy)),3),s.check_in_accuracy?(i(),n("div",Ge," ±"+l(Math.round(s.check_in_accuracy))+"m ",1)):y("",!0)]),e("td",qe,[e("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",z(s.status)])},l(s.status),3)]),e("td",Je,[e("div",Ke,[h(L($),{href:o.route("admin.attendance.show",s.id),class:"text-blue-600 hover:text-blue-900",title:"View Details"},{default:_(()=>t[32]||(t[32]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2},1032,["href"]),s.check_in_latitude&&s.check_in_longitude?(i(),n("button",{key:0,onClick:F=>o.openLocationModal(s),class:"text-green-600 hover:text-green-900",title:"View on Map"},t[33]||(t[33]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)]),8,Qe)):y("",!0)])])])}),128)),a.attendance.data.length===0?(i(),n("tr",Xe,t[34]||(t[34]=[e("td",{colspan:"9",class:"px-6 py-4 text-center text-gray-500"}," No attendance records found. ",-1)]))):y("",!0)])])]),e("div",Ye,[h(W,{links:a.attendance.links},null,8,["links"])])])])])])]),_:1})],64))}};export{it as default};
