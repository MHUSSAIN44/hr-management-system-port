import{c as g,o as m,e,t as a,r as d,w as F,W as S,b as r,u as y,g as H,d as x,s as T,f as $,j as h,n as C,F as B,i as O,S as k}from"./app-CbFQf_sx.js";import{_ as W}from"./AdminLayout-CxtQk0Zj.js";import{_ as I}from"./SearchInput-DGL5slGC.js";import{_}from"./FilterDropdown-B5TSoL59.js";import{_ as P}from"./Pagination-Dm5rR0tz.js";import"./ApplicationLogo-C9AT7BK-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-dbIahFAp.js";const q={class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},G={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},J={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},K={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Q={class:"sm:flex sm:items-start"},X={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Y={class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},Z={class:"mt-2"},ee={class:"text-sm text-gray-500"},te={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},se={__name:"DeleteModal",props:{title:String,message:String},emits:["close","confirm"],setup(i){return(n,l)=>(m(),g("div",q,[e("div",G,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:l[0]||(l[0]=u=>n.$emit("close"))}),l[4]||(l[4]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),e("div",J,[e("div",K,[e("div",Q,[l[3]||(l[3]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",X,[e("h3",Y,a(i.title),1),e("div",Z,[e("p",ee,a(i.message),1)])])])]),e("div",te,[e("button",{type:"button",onClick:l[1]||(l[1]=u=>n.$emit("confirm")),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete "),e("button",{type:"button",onClick:l[2]||(l[2]=u=>n.$emit("close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])]))}},oe={class:"flex justify-between items-center"},le={class:"py-12"},ne={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},re={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},ae={class:"p-6 bg-white border-b border-gray-200"},ie={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},de={class:"w-full md:w-1/3"},ue={class:"flex flex-wrap gap-4 items-center"},me={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ce={class:"p-6 bg-white border-b border-gray-200"},pe={class:"overflow-x-auto"},xe={class:"min-w-full divide-y divide-gray-200"},ge={class:"bg-gray-50"},fe={class:"flex items-center"},ve={class:"bg-white divide-y divide-gray-200"},we={class:"px-6 py-4 whitespace-nowrap"},ye={class:"flex items-center"},he={class:"flex-shrink-0 h-10 w-10"},be={class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},ke={class:"text-sm font-medium text-gray-700"},_e={class:"ml-4"},$e={class:"text-sm font-medium text-gray-900"},Ce={class:"text-sm text-gray-500"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},De={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Me={class:"px-6 py-4 whitespace-nowrap"},Se={class:"px-6 py-4 whitespace-nowrap"},Be={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ae={class:"flex items-center justify-end space-x-2"},Ee=["onClick"],Le={key:0},ze={colspan:"7",class:"px-6 py-4 text-center text-gray-500"},Ne={class:"mt-6"},Pe={__name:"Index",props:{employees:Object,departments:Array,locations:Array,statuses:Array,filters:Object},setup(i){const n=i,l=d(n.filters.search||""),u=d(n.filters.department||""),f=d(n.filters.location||""),v=d(n.filters.status||""),c=d(n.filters.sort_field||"created_at"),p=d(n.filters.sort_direction||"desc"),V=d(n.filters.per_page||15),b=d(!1),w=d(null);F([l,u,f,v,c,p,V],()=>{S.get(route("admin.employees.index"),{search:l.value,department:u.value,location:f.value,status:v.value,sort_field:c.value,sort_direction:p.value,per_page:V.value},{preserveState:!0,replace:!0})},{deep:!0});const A=o=>{c.value===o?p.value=p.value==="asc"?"desc":"asc":(c.value=o,p.value="asc")},E=o=>{w.value=o,b.value=!0},L=()=>{w.value&&S.delete(route("admin.employees.destroy",w.value.id),{onSuccess:()=>{b.value=!1,w.value=null}})},z=()=>{l.value="",u.value="",f.value="",v.value=""},N=o=>{switch(o){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";case"terminated":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=d(n.filters.role||""),R=o=>{switch(o){case"admin":return"bg-purple-100 text-purple-800";case"reporting_manager":return"bg-blue-100 text-blue-800";case"employee":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},U=o=>{switch(o){case"admin":return"Admin";case"reporting_manager":return"Manager";case"employee":return"Employee";default:return o}};return(o,t)=>(m(),g(B,null,[r(y(H),{title:"Employees"}),r(W,null,{header:x(()=>[e("div",oe,[t[8]||(t[8]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Employees",-1)),r(y(k),{href:o.route("admin.employees.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 active:bg-blue-800 focus:outline-none focus:border-blue-700 focus:ring focus:ring-blue-200 transition"},{default:x(()=>t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),h(" Add Employee ")])),_:1},8,["href"])])]),default:x(()=>{var D;return[e("div",le,[e("div",ne,[e("div",re,[e("div",ae,[e("div",ie,[e("div",de,[r(I,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),placeholder:"Search employees..."},null,8,["modelValue"])]),e("div",ue,[r(_,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s),label:"Department",options:i.departments,"option-value":"id","option-label":"name","allow-empty":""},null,8,["modelValue","options"]),r(_,{modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=s=>f.value=s),label:"Location",options:i.locations,"option-value":"id","option-label":"name","allow-empty":""},null,8,["modelValue","options"]),r(_,{modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=s=>v.value=s),label:"Status",options:i.statuses,"allow-empty":""},null,8,["modelValue","options"]),r(_,{modelValue:j.value,"onUpdate:modelValue":t[4]||(t[4]=s=>j.value=s),label:"Role",options:o.roles,"allow-empty":""},null,8,["modelValue","options"]),e("button",{onClick:z,class:"inline-flex items-center px-4 py-2 bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-300 focus:bg-gray-300 active:bg-gray-300 focus:outline-none transition"}," Reset ")])])])]),e("div",me,[e("div",ce,[e("div",pe,[e("table",xe,[e("thead",ge,[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t[5]||(t[5]=s=>A("employee_name"))},[e("div",fe,[t[10]||(t[10]=h(" Name ")),c.value==="employee_name"?(m(),g("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",class:C(["h-4 w-4 ml-1",{"transform rotate-180":c.value==="employee_name"&&p.value==="desc"}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 11l5-5m0 0l5 5m-5-5v12"},null,-1)]),2)):$("",!0)])]),t[11]||(t[11]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Department",-1)),t[12]||(t[12]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Designation",-1)),t[13]||(t[13]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Location",-1)),t[14]||(t[14]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status",-1)),t[15]||(t[15]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Role ",-1)),t[16]||(t[16]=e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),e("tbody",ve,[(m(!0),g(B,null,O(i.employees.data,s=>(m(),g("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",we,[e("div",ye,[e("div",he,[e("div",be,[e("span",ke,a(s.employee_name.split(" ").map(M=>M[0]).join("")),1)])]),e("div",_e,[e("div",$e,a(s.title)+" "+a(s.employee_name),1),e("div",Ce,a(s.email_address),1)])])]),e("td",Ve,a(s.department.name),1),e("td",je,a(s.designation.name),1),e("td",De,a(s.location.name),1),e("td",Me,[e("span",{class:C(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",N(s.status)])},a(s.status),3)]),e("td",Se,[e("span",{class:C(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",R(s.user.role)])},a(U(s.user.role)),3)]),e("td",Be,[e("div",Ae,[r(y(k),{href:o.route("admin.employees.show",s.id),class:"text-blue-600 hover:text-blue-900",title:"View"},{default:x(()=>t[17]||(t[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2},1032,["href"]),r(y(k),{href:o.route("admin.employees.edit",s.id),class:"text-indigo-600 hover:text-indigo-900",title:"Edit"},{default:x(()=>t[18]||(t[18]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2},1032,["href"]),e("button",{onClick:M=>E(s),class:"text-red-600 hover:text-red-900",title:"Delete"},t[19]||(t[19]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Ee)])])]))),128)),i.employees.data.length===0?(m(),g("tr",Le,[e("td",ze,[t[21]||(t[21]=h(" No employees found. Try adjusting your search criteria or ")),r(y(k),{href:o.route("admin.employees.create"),class:"text-blue-600 hover:text-blue-900"},{default:x(()=>t[20]||(t[20]=[h("add a new employee")])),_:1},8,["href"]),t[22]||(t[22]=h(". "))])])):$("",!0)])])]),e("div",Ne,[r(P,{links:i.employees.links},null,8,["links"])])])])])]),b.value?(m(),T(se,{key:0,onClose:t[6]||(t[6]=s=>b.value=!1),onConfirm:L,title:`Delete Employee: ${(D=w.value)==null?void 0:D.employee_name}`,message:"Are you sure you want to delete this employee? This action cannot be undone and will permanently remove all employee data including attendance and payroll records."},null,8,["title"])):$("",!0)]}),_:1})],64))}};export{Pe as default};
