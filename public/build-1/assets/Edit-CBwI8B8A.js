import{x as A,y as k,c,o as p,b as a,u as t,g as N,d as y,e,k as B,h as _,F as b,i as v,t as n,v as x,j as V}from"./app-CbFQf_sx.js";import{_ as E}from"./AdminLayout-CxtQk0Zj.js";import{_ as d,a as m}from"./InputError-BcXEORy4.js";import{_ as f}from"./TextInput-Ddq2mNMX.js";import{P as D}from"./PrimaryButton-DWgWx5Lq.js";import{_ as S}from"./SecondaryButton-B0GWn-nO.js";import"./ApplicationLogo-C9AT7BK-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-dbIahFAp.js";const M={class:"flex justify-between items-center"},P={class:"py-12"},O={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"p-6 bg-white border-b border-gray-200"},C={class:"mb-8"},I={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},J=["value"],G=["value"],L=["value"],T={class:"mb-8"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z={class:"md:col-span-2"},H={class:"mb-8"},K={class:"bg-gray-50 p-4 rounded-lg"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},R={class:"space-y-2"},W={class:"flex justify-between"},X={class:"text-sm text-gray-900"},Z={class:"flex justify-between"},ee={class:"text-sm text-gray-900"},se={class:"flex justify-between"},oe={class:"text-sm text-gray-900"},te={class:"flex justify-between"},le={class:"text-sm text-gray-900"},ae={class:"space-y-2"},re={class:"flex justify-between"},ne={class:"text-sm text-gray-900"},ie={class:"flex justify-between border-t pt-2"},de={class:"text-sm font-semibold text-gray-900"},me={class:"flex justify-between"},ue={class:"text-lg font-bold text-green-600"},ce={class:"flex items-center justify-end space-x-4"},pe={key:0},ye={key:1},Ve={__name:"Edit",props:{payroll:Object,employees:Array},setup(w){const i=w,o=A({employee_id:i.payroll.employee_id,basic_salary:i.payroll.basic_salary,accommodation:i.payroll.accommodation,allowances:i.payroll.allowances,overtime_amount:i.payroll.overtime_amount,deductions:i.payroll.deductions,month:i.payroll.month,year:i.payroll.year}),h=k(()=>{const r=parseFloat(o.basic_salary)||0,s=parseFloat(o.accommodation)||0,l=parseFloat(o.allowances)||0,g=parseFloat(o.overtime_amount)||0;return r+s+l+g}),F=k(()=>{const r=parseFloat(o.deductions)||0;return h.value-r}),j=()=>{o.put(route("admin.payroll.update",i.payroll.id),{preserveScroll:!0})},u=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"AED",minimumFractionDigits:2}).format(r),U=r=>["January","February","March","April","May","June","July","August","September","October","November","December"][r-1]||r;return(r,s)=>(p(),c(b,null,[a(t(N),{title:"Edit Payroll"}),a(E,null,{header:y(()=>[e("div",M,[s[9]||(s[9]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Edit Payroll",-1)),a(S,{href:r.route("admin.payroll.index")},{default:y(()=>s[8]||(s[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),V(" Back to Payroll ")])),_:1},8,["href"])])]),default:y(()=>[e("div",P,[e("div",O,[e("div",$,[e("div",q,[e("form",{onSubmit:B(j,["prevent"])},[e("div",C,[s[11]||(s[11]=e("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-6"},"Employee & Period Information",-1)),e("div",I,[e("div",null,[a(d,{for:"employee_id",value:"Employee"}),_(e("select",{id:"employee_id","onUpdate:modelValue":s[0]||(s[0]=l=>t(o).employee_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},[s[10]||(s[10]=e("option",{value:""},"Select Employee",-1)),(p(!0),c(b,null,v(w.employees,l=>{var g;return p(),c("option",{key:l.id,value:l.id},n(l.employee_name)+" - "+n((g=l.department)==null?void 0:g.name),9,J)}),128))],512),[[x,t(o).employee_id]]),a(m,{message:t(o).errors.employee_id,class:"mt-2"},null,8,["message"])]),e("div",null,[a(d,{for:"month",value:"Month"}),_(e("select",{id:"month","onUpdate:modelValue":s[1]||(s[1]=l=>t(o).month=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},[(p(),c(b,null,v(12,l=>e("option",{key:l,value:l},n(U(l)),9,G)),64))],512),[[x,t(o).month]]),a(m,{message:t(o).errors.month,class:"mt-2"},null,8,["message"])]),e("div",null,[a(d,{for:"year",value:"Year"}),_(e("select",{id:"year","onUpdate:modelValue":s[2]||(s[2]=l=>t(o).year=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},[(p(),c(b,null,v([2024,2025,2026],l=>e("option",{key:l,value:l},n(l),9,L)),64))],512),[[x,t(o).year]]),a(m,{message:t(o).errors.year,class:"mt-2"},null,8,["message"])])])]),e("div",T,[s[12]||(s[12]=e("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-6"},"Salary Information",-1)),e("div",Y,[e("div",null,[a(d,{for:"basic_salary",value:"Basic Salary"}),a(f,{id:"basic_salary",modelValue:t(o).basic_salary,"onUpdate:modelValue":s[3]||(s[3]=l=>t(o).basic_salary=l),type:"number",step:"0.01",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),a(m,{message:t(o).errors.basic_salary,class:"mt-2"},null,8,["message"])]),e("div",null,[a(d,{for:"accommodation",value:"Accommodation Allowance"}),a(f,{id:"accommodation",modelValue:t(o).accommodation,"onUpdate:modelValue":s[4]||(s[4]=l=>t(o).accommodation=l),type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"]),a(m,{message:t(o).errors.accommodation,class:"mt-2"},null,8,["message"])]),e("div",null,[a(d,{for:"allowances",value:"Other Allowances"}),a(f,{id:"allowances",modelValue:t(o).allowances,"onUpdate:modelValue":s[5]||(s[5]=l=>t(o).allowances=l),type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"]),a(m,{message:t(o).errors.allowances,class:"mt-2"},null,8,["message"])]),e("div",null,[a(d,{for:"overtime_amount",value:"Overtime Amount"}),a(f,{id:"overtime_amount",modelValue:t(o).overtime_amount,"onUpdate:modelValue":s[6]||(s[6]=l=>t(o).overtime_amount=l),type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"]),a(m,{message:t(o).errors.overtime_amount,class:"mt-2"},null,8,["message"])]),e("div",z,[a(d,{for:"deductions",value:"Deductions"}),a(f,{id:"deductions",modelValue:t(o).deductions,"onUpdate:modelValue":s[7]||(s[7]=l=>t(o).deductions=l),type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"]),a(m,{message:t(o).errors.deductions,class:"mt-2"},null,8,["message"])])])]),e("div",H,[s[20]||(s[20]=e("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-6"},"Salary Summary",-1)),e("div",K,[e("div",Q,[e("div",R,[e("div",W,[s[13]||(s[13]=e("span",{class:"text-sm font-medium text-gray-600"},"Basic Salary:",-1)),e("span",X,n(u(parseFloat(t(o).basic_salary)||0)),1)]),e("div",Z,[s[14]||(s[14]=e("span",{class:"text-sm font-medium text-gray-600"},"Accommodation:",-1)),e("span",ee,n(u(parseFloat(t(o).accommodation)||0)),1)]),e("div",se,[s[15]||(s[15]=e("span",{class:"text-sm font-medium text-gray-600"},"Allowances:",-1)),e("span",oe,n(u(parseFloat(t(o).allowances)||0)),1)]),e("div",te,[s[16]||(s[16]=e("span",{class:"text-sm font-medium text-gray-600"},"Overtime:",-1)),e("span",le,n(u(parseFloat(t(o).overtime_amount)||0)),1)])]),e("div",ae,[e("div",re,[s[17]||(s[17]=e("span",{class:"text-sm font-medium text-gray-600"},"Deductions:",-1)),e("span",ne,n(u(parseFloat(t(o).deductions)||0)),1)]),e("div",ie,[s[18]||(s[18]=e("span",{class:"text-sm font-semibold text-gray-700"},"Gross Salary:",-1)),e("span",de,n(u(h.value)),1)]),e("div",me,[s[19]||(s[19]=e("span",{class:"text-lg font-bold text-gray-800"},"Net Salary:",-1)),e("span",ue,n(u(F.value)),1)])])])])]),e("div",ce,[a(S,{href:r.route("admin.payroll.index")},{default:y(()=>s[21]||(s[21]=[V(" Cancel ")])),_:1},8,["href"]),a(D,{disabled:t(o).processing},{default:y(()=>[t(o).processing?(p(),c("span",pe,"Updating...")):(p(),c("span",ye,"Update Payroll"))]),_:1},8,["disabled"])])],32)])])])])]),_:1})],64))}};export{Ve as default};
