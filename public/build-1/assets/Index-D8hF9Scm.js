import{r as g,x as Z,w as ee,W as N,c as r,o as a,b as d,u,g as te,d as p,e,f as _,t as o,h,v as w,F as y,i as b,n as T,S as V,j as x,k as se}from"./app-CbFQf_sx.js";import{_ as oe}from"./AdminLayout-CxtQk0Zj.js";import{_ as le}from"./SearchInput-DGL5slGC.js";import{_ as ne}from"./Pagination-Dm5rR0tz.js";import{_ as $,a as G}from"./InputError-BcXEORy4.js";import{P as ie}from"./PrimaryButton-DWgWx5Lq.js";import{_ as L}from"./SecondaryButton-B0GWn-nO.js";import"./ApplicationLogo-C9AT7BK-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-dbIahFAp.js";const re={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ae={class:"flex gap-3"},de={class:"py-12"},ue={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},me={class:"grid grid-cols-2 gap-4 mb-6 sm:grid-cols-3 lg:grid-cols-6"},ce={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-blue-500"},pe={class:"p-4"},ge={class:"flex items-center justify-between"},xe={class:"text-xl font-bold text-gray-900"},fe={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-purple-500"},ve={class:"p-4"},ye={class:"flex items-center justify-between"},he={class:"text-xl font-bold text-gray-900"},we={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-yellow-500"},be={class:"p-4"},_e={class:"flex items-center justify-between"},ke={class:"text-xl font-bold text-gray-900"},je={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-green-500"},Ce={class:"p-4"},Me={class:"flex items-center justify-between"},Pe={class:"text-xl font-bold text-gray-900"},Ve={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-indigo-500"},Se={class:"p-4"},Ae={class:"flex items-center justify-between"},De={class:"text-lg font-bold text-gray-900"},Be={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-red-500"},ze={class:"p-4"},Fe={class:"flex items-center justify-between"},Ne={class:"text-lg font-bold text-gray-900"},$e={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Ge={class:"p-6 bg-white border-b border-gray-200"},Le={class:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-4"},Ue={class:"w-full lg:w-1/3"},Ee={class:"grid grid-cols-2 md:grid-cols-6 gap-4 items-end"},He=["value"],Oe=["value"],Te=["value"],Ye={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Je={class:"p-6"},qe={class:"overflow-x-auto"},We={class:"min-w-full divide-y divide-gray-200"},Ie={class:"bg-white divide-y divide-gray-200"},Re={class:"px-6 py-4 whitespace-nowrap"},Ke={class:"flex items-center"},Qe={class:"flex-shrink-0 h-10 w-10"},Xe={class:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center"},Ze={class:"text-white text-sm font-semibold"},et={class:"ml-4"},tt={class:"text-sm font-medium text-gray-900"},st={class:"text-sm text-gray-500"},ot={class:"px-6 py-4 whitespace-nowrap"},lt={class:"text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap"},rt={class:"text-sm font-medium text-gray-900"},at={class:"text-sm text-gray-500"},dt={class:"px-6 py-4 whitespace-nowrap"},ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},mt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ct={class:"flex items-center justify-end space-x-2"},pt=["onClick"],gt=["onClick"],xt=["onClick"],ft={key:0},vt={colspan:"7",class:"px-6 py-4 text-center text-gray-500"},yt={class:"mt-6"},ht={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},wt={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},bt={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},_t={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},kt={class:"space-y-4"},jt={class:"grid grid-cols-2 gap-4"},Ct=["value"],Mt=["value"],Pt={class:"flex items-center justify-between mb-2"},Vt={class:"max-h-40 overflow-y-auto border border-gray-300 rounded-md p-2"},St=["id","checked","onChange"],At=["for"],Dt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Bt={key:0},zt={key:1},Ft={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},Nt={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},$t={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},Gt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Lt={class:"bg-gray-50 p-4 rounded-lg"},Ut={class:"grid grid-cols-2 gap-4 mb-4"},Et={class:"text-lg font-semibold text-gray-900"},Ht={class:"text-gray-600"},Ot={class:"text-gray-600"},Tt={class:"text-right"},Yt={class:"grid grid-cols-2 gap-4 text-sm"},Jt={class:"space-y-2"},qt={class:"flex justify-between"},Wt={class:"text-gray-900"},It={class:"flex justify-between"},Rt={class:"text-gray-900"},Kt={class:"flex justify-between"},Qt={class:"text-gray-900"},Xt={class:"flex justify-between"},Zt={class:"text-gray-900"},es={class:"space-y-2"},ts={class:"flex justify-between"},ss={class:"text-gray-900"},os={class:"flex justify-between border-t pt-2"},ls={class:"text-gray-900 font-semibold"},ns={class:"flex justify-between"},is={class:"text-gray-900 font-bold text-lg"},rs={key:0,class:"flex justify-between"},as={class:"text-gray-900"},ds={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},us={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},ms={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},cs={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},ps={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},gs={class:"sm:flex sm:items-start"},xs={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},fs={class:"mt-2"},vs={class:"text-sm text-gray-500"},ys={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ss={__name:"Index",props:{payrolls:Object,employees:Array,years:Array,months:Array,stats:Object,filters:Object},setup(m){const f=m,k=g(f.filters.search||""),S=g(f.filters.per_page||15),j=g(f.filters.status||""),C=g(f.filters.month||""),M=g(f.filters.year||""),P=g(f.filters.employee_id||""),A=g(!1),D=g(!1),B=g(!1),n=g(null),i=Z({month:new Date().getMonth()+1,year:new Date().getFullYear(),employee_ids:[]});ee([k,S,j,C,M,P],()=>{N.get(route("admin.payroll.index"),{search:k.value,per_page:S.value,status:j.value,month:C.value,year:M.value,employee_id:P.value},{preserveState:!0,replace:!0})});const Y=()=>{i.reset(),i.month=new Date().getMonth()+1,i.year=new Date().getFullYear(),A.value=!0},J=l=>{n.value=l,D.value=!0},q=l=>{n.value=l,B.value=!0},v=()=>{A.value=!1,D.value=!1,B.value=!1,n.value=null},W=()=>{i.post(route("admin.payroll.generate-payrolls"),{onSuccess:()=>{v()}})},I=l=>{N.post(route("admin.payroll.mark-as-paid",l.id),{},{onSuccess:()=>{}})},R=()=>{N.delete(route("admin.payroll.destroy",n.value.id),{onSuccess:()=>{v()}})},K=()=>{k.value="",j.value="",C.value="",M.value="",P.value=""},c=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"AED",minimumFractionDigits:2}).format(l),U=l=>l?new Date(l).toLocaleDateString():"N/A",E=l=>{switch(l){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=l=>["January","February","March","April","May","June","July","August","September","October","November","December"][l-1]||l,Q=l=>{const t=i.employee_ids.indexOf(l);t>-1?i.employee_ids.splice(t,1):i.employee_ids.push(l)},X=()=>{i.employee_ids.length===f.employees.length?i.employee_ids=[]:i.employee_ids=f.employees.map(l=>l.id)};return(l,t)=>(a(),r(y,null,[d(u(te),{title:"Payroll Management"}),d(oe,null,{header:p(()=>[e("div",re,[t[10]||(t[10]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Payroll Management",-1)),e("div",ae,[e("button",{onClick:Y,class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 transition"},t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),x(" Generate Payrolls ")])),d(u(V),{href:l.route("admin.payroll.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 transition"},{default:p(()=>t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),x(" Add Payroll ")])),_:1},8,["href"])])])]),default:p(()=>{var H;return[e("div",de,[e("div",ue,[e("div",me,[e("div",ce,[e("div",pe,[e("div",ge,[e("div",null,[t[11]||(t[11]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Payrolls",-1)),e("p",xe,o(m.stats.total_payrolls),1)]),t[12]||(t[12]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1))])])]),e("div",fe,[e("div",ve,[e("div",ye,[e("div",null,[t[13]||(t[13]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"This Month",-1)),e("p",he,o(m.stats.current_month_payrolls),1)]),t[14]||(t[14]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])])],-1))])])]),e("div",we,[e("div",be,[e("div",_e,[e("div",null,[t[15]||(t[15]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pending",-1)),e("p",ke,o(m.stats.pending_payments),1)]),t[16]||(t[16]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1))])])]),e("div",je,[e("div",Ce,[e("div",Me,[e("div",null,[t[17]||(t[17]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Paid This Month",-1)),e("p",Pe,o(m.stats.paid_this_month),1)]),t[18]||(t[18]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])],-1))])])]),e("div",Ve,[e("div",Se,[e("div",Ae,[e("div",null,[t[19]||(t[19]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Month Total",-1)),e("p",De,o(c(m.stats.total_amount_current_month)),1)]),t[20]||(t[20]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1))])])]),e("div",Be,[e("div",ze,[e("div",Fe,[e("div",null,[t[21]||(t[21]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pending Amount",-1)),e("p",Ne,o(c(m.stats.pending_amount)),1)]),t[22]||(t[22]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])])],-1))])])])]),e("div",$e,[e("div",Ge,[e("div",Le,[e("div",Ue,[d(le,{modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=s=>k.value=s),placeholder:"Search employees..."},null,8,["modelValue"])]),e("div",Ee,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>j.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},t[23]||(t[23]=[e("option",{value:""},"All Status",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"paid"},"Paid",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),512),[[w,j.value]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Month",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>C.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},[t[25]||(t[25]=e("option",{value:""},"All Months",-1)),(a(!0),r(y,null,b(m.months,s=>(a(),r("option",{key:s.value,value:s.value},o(s.label),9,He))),128))],512),[[w,C.value]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Year",-1)),h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>M.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},[t[27]||(t[27]=e("option",{value:""},"All Years",-1)),(a(!0),r(y,null,b(m.years,s=>(a(),r("option",{key:s,value:s},o(s),9,Oe))),128))],512),[[w,M.value]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Employee",-1)),h(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>P.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},[t[29]||(t[29]=e("option",{value:""},"All Employees",-1)),(a(!0),r(y,null,b(m.employees,s=>(a(),r("option",{key:s.id,value:s.id},o(s.employee_name),9,Te))),128))],512),[[w,P.value]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Per Page",-1)),h(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>S.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},t[31]||(t[31]=[e("option",{value:15},"15",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)]),512),[[w,S.value]])]),e("div",null,[e("button",{onClick:K,class:"w-full px-4 py-2 bg-gray-200 rounded-md text-xs font-semibold text-gray-700 hover:bg-gray-300"}," Reset ")])])])])]),e("div",Ye,[e("div",Je,[e("div",qe,[e("table",We,[t[41]||(t[41]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Employee "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Period "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Basic Salary "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Net Salary "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Payment Date "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ie,[(a(!0),r(y,null,b(m.payrolls.data,s=>{var F;return a(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Re,[e("div",Ke,[e("div",Qe,[e("div",Xe,[e("span",Ze,o(s.employee.employee_name.charAt(0).toUpperCase()),1)])]),e("div",et,[e("div",tt,o(s.employee.employee_name),1),e("div",st,o((F=s.employee.department)==null?void 0:F.name),1)])])]),e("td",ot,[e("div",lt,o(z(s.month))+" "+o(s.year),1)]),e("td",nt,o(c(s.basic_salary)),1),e("td",it,[e("div",rt,o(c(s.net_salary)),1),e("div",at,"Gross: "+o(c(s.gross_salary)),1)]),e("td",dt,[e("span",{class:T(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",E(s.status)])},o(s.status),3)]),e("td",ut,o(U(s.payment_date)),1),e("td",mt,[e("div",ct,[e("button",{onClick:O=>J(s),class:"text-blue-600 hover:text-blue-900",title:"View"},t[33]||(t[33]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,pt),d(u(V),{href:l.route("admin.payroll.generate-payslip",s.id),class:"text-purple-600 hover:text-purple-900",title:"Generate Payslip"},{default:p(()=>t[34]||(t[34]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])),_:2},1032,["href"]),s.status==="pending"?(a(),r("button",{key:0,onClick:O=>I(s),class:"text-green-600 hover:text-green-900",title:"Mark as Paid"},t[35]||(t[35]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]),8,gt)):_("",!0),d(u(V),{href:l.route("admin.payroll.edit",s.id),class:"text-indigo-600 hover:text-indigo-900",title:"Edit"},{default:p(()=>t[36]||(t[36]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2},1032,["href"]),e("button",{onClick:O=>q(s),class:"text-red-600 hover:text-red-900",title:"Delete"},t[37]||(t[37]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,xt)])])])}),128)),m.payrolls.data.length===0?(a(),r("tr",ft,[e("td",vt,[t[39]||(t[39]=x(" No payrolls found. ")),d(u(V),{href:l.route("admin.payroll.create"),class:"text-blue-600 hover:text-blue-900"},{default:p(()=>t[38]||(t[38]=[x("Create your first payroll")])),_:1},8,["href"]),t[40]||(t[40]=x(". "))])])):_("",!0)])])]),e("div",yt,[d(ne,{links:m.payrolls.links},null,8,["links"])])])])])]),A.value?(a(),r("div",ht,[e("div",wt,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:v}),t[44]||(t[44]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",bt,[e("form",{onSubmit:se(W,["prevent"])},[e("div",_t,[t[42]||(t[42]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Generate Payrolls",-1)),e("div",kt,[e("div",jt,[e("div",null,[d($,{for:"generate_month",value:"Month"}),h(e("select",{id:"generate_month","onUpdate:modelValue":t[6]||(t[6]=s=>u(i).month=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},[(a(!0),r(y,null,b(m.months,s=>(a(),r("option",{key:s.value,value:s.value},o(s.label),9,Ct))),128))],512),[[w,u(i).month]]),d(G,{message:u(i).errors.month,class:"mt-2"},null,8,["message"])]),e("div",null,[d($,{for:"generate_year",value:"Year"}),h(e("select",{id:"generate_year","onUpdate:modelValue":t[7]||(t[7]=s=>u(i).year=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},[(a(),r(y,null,b([2024,2025,2026],s=>e("option",{key:s,value:s},o(s),9,Mt)),64))],512),[[w,u(i).year]]),d(G,{message:u(i).errors.year,class:"mt-2"},null,8,["message"])])]),e("div",null,[e("div",Pt,[d($,{value:"Select Employees"}),e("button",{type:"button",onClick:X,class:"text-sm text-blue-600 hover:text-blue-900"},o(u(i).employee_ids.length===m.employees.length?"Deselect All":"Select All"),1)]),e("div",Vt,[(a(!0),r(y,null,b(m.employees,s=>(a(),r("div",{key:s.id,class:"flex items-center space-x-2 py-1"},[e("input",{type:"checkbox",id:`employee_${s.id}`,checked:u(i).employee_ids.includes(s.id),onChange:F=>Q(s.id),class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,40,St),e("label",{for:`employee_${s.id}`,class:"text-sm text-gray-700"},o(s.employee_name),9,At)]))),128))]),d(G,{message:u(i).errors.employee_ids,class:"mt-2"},null,8,["message"])])])]),e("div",Dt,[d(ie,{type:"submit",disabled:u(i).processing||u(i).employee_ids.length===0,class:"w-full sm:w-auto sm:ml-3"},{default:p(()=>[u(i).processing?(a(),r("span",Bt,"Generating...")):(a(),r("span",zt,"Generate Payrolls"))]),_:1},8,["disabled"]),d(L,{onClick:v,class:"mt-3 w-full sm:mt-0 sm:w-auto"},{default:p(()=>t[43]||(t[43]=[x("Cancel")])),_:1})])],32)])])])):_("",!0),D.value&&n.value?(a(),r("div",Ft,[e("div",Nt,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:v}),t[56]||(t[56]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",$t,[e("div",Gt,[t[53]||(t[53]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Payroll Details",-1)),e("div",Lt,[e("div",Ut,[e("div",null,[e("h4",Et,o(n.value.employee.employee_name),1),e("p",Ht,o((H=n.value.employee.department)==null?void 0:H.name),1),e("p",Ot,o(z(n.value.month))+" "+o(n.value.year),1)]),e("div",Tt,[e("span",{class:T(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",E(n.value.status)])},o(n.value.status),3)])]),e("div",Yt,[e("div",Jt,[e("div",qt,[t[45]||(t[45]=e("span",{class:"font-medium text-gray-500"},"Basic Salary:",-1)),e("span",Wt,o(c(n.value.basic_salary)),1)]),e("div",It,[t[46]||(t[46]=e("span",{class:"font-medium text-gray-500"},"Accommodation:",-1)),e("span",Rt,o(c(n.value.accommodation)),1)]),e("div",Kt,[t[47]||(t[47]=e("span",{class:"font-medium text-gray-500"},"Allowances:",-1)),e("span",Qt,o(c(n.value.allowances)),1)]),e("div",Xt,[t[48]||(t[48]=e("span",{class:"font-medium text-gray-500"},"Overtime:",-1)),e("span",Zt,o(c(n.value.overtime_amount)),1)])]),e("div",es,[e("div",ts,[t[49]||(t[49]=e("span",{class:"font-medium text-gray-500"},"Deductions:",-1)),e("span",ss,o(c(n.value.deductions)),1)]),e("div",os,[t[50]||(t[50]=e("span",{class:"font-medium text-gray-500"},"Gross Salary:",-1)),e("span",ls,o(c(n.value.gross_salary)),1)]),e("div",ns,[t[51]||(t[51]=e("span",{class:"font-medium text-gray-500"},"Net Salary:",-1)),e("span",is,o(c(n.value.net_salary)),1)]),n.value.payment_date?(a(),r("div",rs,[t[52]||(t[52]=e("span",{class:"font-medium text-gray-500"},"Payment Date:",-1)),e("span",as,o(U(n.value.payment_date)),1)])):_("",!0)])])])]),e("div",ds,[d(u(V),{href:l.route("admin.payroll.generate-payslip",n.value.id),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-purple-600 text-base font-medium text-white hover:bg-purple-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm"},{default:p(()=>t[54]||(t[54]=[x(" Generate Payslip ")])),_:1},8,["href"]),d(L,{onClick:v,class:"mt-3 w-full sm:mt-0 sm:w-auto"},{default:p(()=>t[55]||(t[55]=[x("Close")])),_:1})])])])])):_("",!0),B.value&&n.value?(a(),r("div",us,[e("div",ms,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:v}),t[60]||(t[60]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",cs,[e("div",ps,[e("div",gs,[t[58]||(t[58]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",xs,[t[57]||(t[57]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Delete Payroll",-1)),e("div",fs,[e("p",vs,' Are you sure you want to delete payroll for "'+o(n.value.employee.employee_name)+'" for '+o(z(n.value.month))+" "+o(n.value.year)+"? This action cannot be undone. ",1)])])])]),e("div",ys,[e("button",{onClick:R,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm"}," Delete "),d(L,{onClick:v,class:"mt-3 w-full sm:mt-0 sm:w-auto"},{default:p(()=>t[59]||(t[59]=[x("Cancel")])),_:1})])])])])):_("",!0)]}),_:1})],64))}};export{Ss as default};
