import{r as d,w as B,W as F,c as u,o as m,b as i,u as v,g as z,d as c,e,f as k,t as l,F as P,i as O,n as S,S as w,j as D}from"./app-CbFQf_sx.js";import{_ as U}from"./EmployeeLayout-DinDR6X8.js";import{_ as T}from"./SearchInput-DGL5slGC.js";import{_ as b}from"./FilterDropdown-B5TSoL59.js";import{_ as $}from"./Pagination-Dm5rR0tz.js";import"./ApplicationLogo-C9AT7BK-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-dbIahFAp.js";const E={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},H={class:"text-sm text-gray-600"},J={class:"py-12"},Y={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},G={class:"grid grid-cols-1 gap-4 mb-6 sm:grid-cols-2 lg:grid-cols-4"},I={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-blue-500"},L={class:"p-4"},W={class:"flex items-center justify-between"},R={class:"text-xl font-bold text-gray-900"},q={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-green-500"},K={class:"p-4"},Q={class:"flex items-center justify-between"},X={class:"text-xl font-bold text-gray-900"},Z={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-purple-500"},ee={class:"p-4"},te={class:"flex items-center justify-between"},se={class:"text-xl font-bold text-gray-900"},le={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-indigo-500"},oe={class:"p-4"},ae={class:"flex items-center justify-between"},ne={class:"text-xl font-bold text-gray-900"},re={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},ie={class:"p-6 bg-white border-b border-gray-200"},de={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},ue={class:"w-full lg:w-1/3"},me={class:"flex flex-wrap gap-4 items-center"},ce={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},pe={class:"p-6"},xe={class:"overflow-x-auto"},ge={class:"min-w-full divide-y divide-gray-200"},ye={class:"bg-white divide-y divide-gray-200"},fe={class:"px-6 py-4 whitespace-nowrap"},ve={class:"text-sm font-medium text-gray-900"},he={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},we={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},be={class:"px-6 py-4 whitespace-nowrap"},_e={class:"text-sm font-medium text-gray-900"},ke={class:"px-6 py-4 whitespace-nowrap"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ve={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Me={class:"flex items-center justify-end space-x-2"},Ce=["onClick"],Pe={key:0},Se={class:"mt-6"},De={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ae={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ne={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},Be={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Fe={class:"bg-gray-50 p-4 rounded-lg"},ze={class:"grid grid-cols-2 gap-4 mb-4"},Oe={class:"text-lg font-semibold text-gray-900"},Ue={class:"text-right"},Te={class:"grid grid-cols-2 gap-4 text-sm"},$e={class:"space-y-2"},Ee={class:"flex justify-between"},He={class:"text-gray-900"},Je={class:"flex justify-between"},Ye={class:"text-gray-900"},Ge={class:"flex justify-between"},Ie={class:"text-gray-900"},Le={class:"flex justify-between"},We={class:"text-gray-900"},Re={class:"space-y-2"},qe={class:"flex justify-between"},Ke={class:"text-gray-900"},Qe={class:"flex justify-between border-t pt-2"},Xe={class:"text-gray-900 font-semibold"},Ze={class:"flex justify-between"},et={class:"text-gray-900 font-bold text-lg"},tt={key:0,class:"flex justify-between"},st={class:"text-gray-900"},lt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},pt={__name:"Index",props:{payrolls:Object,employee:Object,years:Array,months:Array,stats:Object,filters:Object},setup(r){const p=r,x=d(p.filters.search||""),h=d(p.filters.per_page||15),g=d(p.filters.status||""),y=d(p.filters.month||""),f=d(p.filters.year||""),_=d(!1),o=d(null);B([x,h,g,y,f],()=>{F.get(route("employee.payroll.index"),{search:x.value,per_page:h.value,status:g.value,month:y.value,year:f.value},{preserveState:!0,replace:!0})});const A=a=>{o.value=a,_.value=!0},j=()=>{_.value=!1,o.value=null},N=()=>{x.value="",g.value="",y.value="",f.value=""},n=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"AED",minimumFractionDigits:2}).format(a),V=a=>a?new Date(a).toLocaleDateString():"N/A",M=a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=a=>["January","February","March","April","May","June","July","August","September","October","November","December"][a-1]||a;return(a,t)=>(m(),u(P,null,[i(v(z),{title:"My Payroll"}),i(U,null,{header:c(()=>{var s;return[e("div",E,[t[5]||(t[5]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"My Payroll",-1)),e("div",H," Employee: "+l((s=r.employee)==null?void 0:s.employee_name),1)])]}),default:c(()=>[e("div",J,[e("div",Y,[e("div",G,[e("div",I,[e("div",L,[e("div",W,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Payrolls",-1)),e("p",R,l(r.stats.total_payrolls),1)]),t[7]||(t[7]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1))])])]),e("div",q,[e("div",K,[e("div",Q,[e("div",null,[t[8]||(t[8]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"This Month",-1)),e("p",X,l(r.stats.current_month_payroll?n(r.stats.current_month_payroll.net_salary):"N/A"),1)]),t[9]||(t[9]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1))])])]),e("div",Z,[e("div",ee,[e("div",te,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"YTD Earnings",-1)),e("p",se,l(n(r.stats.ytd_earnings)),1)]),t[11]||(t[11]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])])],-1))])])]),e("div",le,[e("div",oe,[e("div",ae,[e("div",null,[t[12]||(t[12]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Avg Monthly",-1)),e("p",ne,l(n(r.stats.average_monthly_salary)),1)]),t[13]||(t[13]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1))])])])]),e("div",re,[e("div",ie,[e("div",de,[e("div",ue,[i(T,{modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),placeholder:"Search payrolls..."},null,8,["modelValue"])]),e("div",me,[i(b,{modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=s=>g.value=s),label:"Status",options:[{value:"",label:"All Status"},{value:"pending",label:"Pending"},{value:"paid",label:"Paid"},{value:"cancelled",label:"Cancelled"}]},null,8,["modelValue"]),i(b,{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=s=>y.value=s),label:"Month",options:[{value:"",label:"All Months"},...r.months]},null,8,["modelValue","options"]),i(b,{modelValue:f.value,"onUpdate:modelValue":t[3]||(t[3]=s=>f.value=s),label:"Year",options:[{value:"",label:"All Years"},...r.years.map(s=>({value:s,label:s}))]},null,8,["modelValue","options"]),i(b,{modelValue:h.value,"onUpdate:modelValue":t[4]||(t[4]=s=>h.value=s),label:"Per Page",options:[15,25,50,100]},null,8,["modelValue"]),e("button",{onClick:N,class:"px-4 py-2 bg-gray-200 rounded-md text-xs font-semibold text-gray-700 hover:bg-gray-300"}," Reset ")])])])]),e("div",ce,[e("div",pe,[e("div",xe,[e("table",ge,[t[20]||(t[20]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Period "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Basic Salary "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Gross Salary "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Net Salary "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Payment Date "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ye,[(m(!0),u(P,null,O(r.payrolls.data,s=>(m(),u("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",fe,[e("div",ve,l(C(s.month))+" "+l(s.year),1),t[14]||(t[14]=e("div",{class:"text-sm text-gray-500"},"Pay Period",-1))]),e("td",he,l(n(s.basic_salary)),1),e("td",we,l(n(s.gross_salary)),1),e("td",be,[e("div",_e,l(n(s.net_salary)),1),t[15]||(t[15]=e("div",{class:"text-sm text-gray-500"},"Take-home pay",-1))]),e("td",ke,[e("span",{class:S(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",M(s.status)])},l(s.status),3)]),e("td",je,l(V(s.payment_date)),1),e("td",Ve,[e("div",Me,[e("button",{onClick:ot=>A(s),class:"text-blue-600 hover:text-blue-900",title:"View Details"},t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,Ce),i(v(w),{href:a.route("employee.payroll.show",s.id),class:"text-green-600 hover:text-green-900",title:"Full Details"},{default:c(()=>t[17]||(t[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])),_:2},1032,["href"]),i(v(w),{href:a.route("employee.payroll.payslip",s.id),class:"text-purple-600 hover:text-purple-900",title:"Download Payslip"},{default:c(()=>t[18]||(t[18]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])),_:2},1032,["href"])])])]))),128)),r.payrolls.data.length===0?(m(),u("tr",Pe,t[19]||(t[19]=[e("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"}," No payroll records found. ",-1)]))):k("",!0)])])]),e("div",Se,[i($,{links:r.payrolls.links},null,8,["links"])])])])])]),_.value&&o.value?(m(),u("div",De,[e("div",Ae,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:j}),t[33]||(t[33]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",Ne,[e("div",Be,[t[30]||(t[30]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Payroll Summary",-1)),e("div",Fe,[e("div",ze,[e("div",null,[e("h4",Oe,l(C(o.value.month))+" "+l(o.value.year),1),t[21]||(t[21]=e("p",{class:"text-gray-600"},"Pay Period",-1))]),e("div",Ue,[e("span",{class:S(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",M(o.value.status)])},l(o.value.status),3)])]),e("div",Te,[e("div",$e,[e("div",Ee,[t[22]||(t[22]=e("span",{class:"font-medium text-gray-500"},"Basic Salary:",-1)),e("span",He,l(n(o.value.basic_salary)),1)]),e("div",Je,[t[23]||(t[23]=e("span",{class:"font-medium text-gray-500"},"Accommodation:",-1)),e("span",Ye,l(n(o.value.accommodation)),1)]),e("div",Ge,[t[24]||(t[24]=e("span",{class:"font-medium text-gray-500"},"Allowances:",-1)),e("span",Ie,l(n(o.value.allowances)),1)]),e("div",Le,[t[25]||(t[25]=e("span",{class:"font-medium text-gray-500"},"Overtime:",-1)),e("span",We,l(n(o.value.overtime_amount)),1)])]),e("div",Re,[e("div",qe,[t[26]||(t[26]=e("span",{class:"font-medium text-gray-500"},"Deductions:",-1)),e("span",Ke,l(n(o.value.deductions)),1)]),e("div",Qe,[t[27]||(t[27]=e("span",{class:"font-medium text-gray-500"},"Gross Salary:",-1)),e("span",Xe,l(n(o.value.gross_salary)),1)]),e("div",Ze,[t[28]||(t[28]=e("span",{class:"font-medium text-gray-500"},"Net Salary:",-1)),e("span",et,l(n(o.value.net_salary)),1)]),o.value.payment_date?(m(),u("div",tt,[t[29]||(t[29]=e("span",{class:"font-medium text-gray-500"},"Payment Date:",-1)),e("span",st,l(V(o.value.payment_date)),1)])):k("",!0)])])])]),e("div",lt,[i(v(w),{href:a.route("employee.payroll.payslip",o.value.id),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-purple-600 text-base font-medium text-white hover:bg-purple-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm"},{default:c(()=>t[31]||(t[31]=[D(" View Payslip ")])),_:1},8,["href"]),i(v(w),{href:a.route("employee.payroll.show",o.value.id),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},{default:c(()=>t[32]||(t[32]=[D(" Full Details ")])),_:1},8,["href"]),e("button",{onClick:j,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm"}," Close ")])])])])):k("",!0)]),_:1})],64))}};export{pt as default};
