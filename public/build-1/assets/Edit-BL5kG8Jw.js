import{x as P,r as v,c as g,o as f,b as t,u as s,g as k,d as p,e as o,k as U,t as b,s as C,f as z,j as _,F as N}from"./app-CbFQf_sx.js";import{_ as $}from"./EmployeeLayout-DinDR6X8.js";import{_ as n,a as m}from"./InputError-BcXEORy4.js";import{_ as d}from"./TextInput-Ddq2mNMX.js";import{P as j}from"./PrimaryButton-DWgWx5Lq.js";import{_ as h}from"./SecondaryButton-B0GWn-nO.js";import"./ApplicationLogo-C9AT7BK-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-dbIahFAp.js";const A={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},S={class:"p-6 bg-white border-b border-gray-200"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:"md:col-span-2 flex items-start space-x-6"},R={key:0,class:"h-24 w-24 rounded-full overflow-hidden bg-gray-100"},D=["src"],T={key:1,class:"h-24 w-24 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center"},Y={class:"text-gray-500 text-lg font-semibold"},L={class:"md:col-span-2"},M={class:"flex items-center justify-end mt-6"},X={__name:"Edit",props:{employee:Object},setup(y){const r=y,l=P({phone:r.employee.phone||"",address:r.employee.address||"",city:r.employee.city||"",state:r.employee.state||"",zip_code:r.employee.zip_code||"",country:r.employee.country||"",emergency_contact_name:r.employee.emergency_contact_name||"",emergency_contact_phone:r.employee.emergency_contact_phone||"",profile_photo:null,_method:"PUT"}),i=v(r.employee.profile_photo?`/storage/${r.employee.profile_photo}`:null),c=v(null),x=()=>{const u=c.value.files[0];if(!u)return;l.profile_photo=u;const e=new FileReader;e.onload=a=>{i.value=a.target.result},e.readAsDataURL(u)},V=()=>{l.profile_photo=null,i.value=null,c.value&&(c.value.value="")},w=()=>{l.post(route("employee.profile.update"),{preserveScroll:!0})};return(u,e)=>(f(),g(N,null,[t(s(k),{title:"Edit Profile"}),t($,null,{header:p(()=>e[8]||(e[8]=[o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Edit Profile",-1)])),default:p(()=>[o("div",A,[o("div",B,[o("div",E,[o("div",S,[o("form",{onSubmit:U(w,["prevent"]),enctype:"multipart/form-data"},[o("div",F,[e[10]||(e[10]=o("div",{class:"md:col-span-2"},[o("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-4"},"Edit Your Profile"),o("p",{class:"text-sm text-gray-600 mb-4"}," Update your personal information and emergency contacts. Your employment details can only be updated by an administrator. ")],-1)),o("div",I,[o("div",null,[i.value?(f(),g("div",R,[o("img",{src:i.value,alt:"Profile preview",class:"h-full w-full object-cover"},null,8,D)])):(f(),g("div",T,[o("span",Y,b(y.employee.first_name.charAt(0))+b(y.employee.last_name.charAt(0)),1)]))]),o("div",null,[t(n,{for:"profile_photo",value:"Profile Photo"}),o("input",{type:"file",id:"profile_photo",ref_key:"photoInput",ref:c,onChange:x,class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100",accept:"image/*"},null,544),t(m,{message:s(l).errors.profile_photo,class:"mt-2"},null,8,["message"]),i.value?(f(),C(h,{key:0,type:"button",class:"mt-2",onClick:V},{default:p(()=>e[9]||(e[9]=[_(" Remove Photo ")])),_:1})):z("",!0)])]),e[11]||(e[11]=o("div",{class:"md:col-span-2"},[o("h3",{class:"text-md font-medium text-gray-900 mb-2"},"Contact Information")],-1)),o("div",null,[t(n,{for:"phone",value:"Phone Number"}),t(d,{id:"phone",modelValue:s(l).phone,"onUpdate:modelValue":e[0]||(e[0]=a=>s(l).phone=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{message:s(l).errors.phone,class:"mt-2"},null,8,["message"])]),e[12]||(e[12]=o("div",{class:"md:col-span-2"},[o("h3",{class:"text-md font-medium text-gray-900 mt-4 mb-2"},"Address")],-1)),o("div",L,[t(n,{for:"address",value:"Street Address"}),t(d,{id:"address",modelValue:s(l).address,"onUpdate:modelValue":e[1]||(e[1]=a=>s(l).address=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{message:s(l).errors.address,class:"mt-2"},null,8,["message"])]),o("div",null,[t(n,{for:"city",value:"City"}),t(d,{id:"city",modelValue:s(l).city,"onUpdate:modelValue":e[2]||(e[2]=a=>s(l).city=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{message:s(l).errors.city,class:"mt-2"},null,8,["message"])]),o("div",null,[t(n,{for:"state",value:"State/Province"}),t(d,{id:"state",modelValue:s(l).state,"onUpdate:modelValue":e[3]||(e[3]=a=>s(l).state=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{message:s(l).errors.state,class:"mt-2"},null,8,["message"])]),o("div",null,[t(n,{for:"zip_code",value:"Zip/Postal Code"}),t(d,{id:"zip_code",modelValue:s(l).zip_code,"onUpdate:modelValue":e[4]||(e[4]=a=>s(l).zip_code=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{message:s(l).errors.zip_code,class:"mt-2"},null,8,["message"])]),o("div",null,[t(n,{for:"country",value:"Country"}),t(d,{id:"country",modelValue:s(l).country,"onUpdate:modelValue":e[5]||(e[5]=a=>s(l).country=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{message:s(l).errors.country,class:"mt-2"},null,8,["message"])]),o("div",null,[t(n,{for:"emergency_contact_name",value:"Contact Name"}),t(d,{id:"emergency_contact_name",modelValue:s(l).emergency_contact_name,"onUpdate:modelValue":e[6]||(e[6]=a=>s(l).emergency_contact_name=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{message:s(l).errors.emergency_contact_name,class:"mt-2"},null,8,["message"])]),o("div",null,[t(n,{for:"emergency_contact_phone",value:"Contact Phone"}),t(d,{id:"emergency_contact_phone",modelValue:s(l).emergency_contact_phone,"onUpdate:modelValue":e[7]||(e[7]=a=>s(l).emergency_contact_phone=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{message:s(l).errors.emergency_contact_phone,class:"mt-2"},null,8,["message"])])]),o("div",M,[t(h,{href:u.route("employee.profile"),class:"mr-3"},{default:p(()=>e[13]||(e[13]=[_(" Cancel ")])),_:1},8,["href"]),t(j,{disabled:s(l).processing},{default:p(()=>e[14]||(e[14]=[_(" Update Profile ")])),_:1},8,["disabled"])])],32)])])])])]),_:1})],64))}};export{X as default};
