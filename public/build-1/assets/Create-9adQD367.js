import{x as A,y as w,c as u,o as c,b as a,u as o,g as C,d as p,e,k as D,h as b,F as g,i as _,t as n,v,j as h}from"./app-CbFQf_sx.js";import{_ as N}from"./AdminLayout-CxtQk0Zj.js";import{_ as i,a as d}from"./InputError-BcXEORy4.js";import{_ as y}from"./TextInput-Ddq2mNMX.js";import{P as U}from"./PrimaryButton-DWgWx5Lq.js";import{_ as k}from"./SecondaryButton-B0GWn-nO.js";import"./ApplicationLogo-C9AT7BK-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-dbIahFAp.js";const B={class:"flex justify-between items-center"},M={class:"py-12"},P={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},$={class:"p-6 bg-white border-b border-gray-200"},q={class:"mb-8"},O={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},I=["value"],J=["value"],Y=["value"],G={class:"mb-8"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={class:"md:col-span-2"},z={class:"mb-8"},H={class:"bg-gray-50 p-4 rounded-lg"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q={class:"space-y-2"},R={class:"flex justify-between"},W={class:"text-sm text-gray-900"},X={class:"flex justify-between"},Z={class:"text-sm text-gray-900"},ee={class:"flex justify-between"},se={class:"text-sm text-gray-900"},te={class:"flex justify-between"},oe={class:"text-sm text-gray-900"},le={class:"space-y-2"},ae={class:"flex justify-between"},re={class:"text-sm text-gray-900"},ne={class:"flex justify-between border-t pt-2"},ie={class:"text-sm font-semibold text-gray-900"},de={class:"flex justify-between"},me={class:"text-lg font-bold text-green-600"},ue={class:"flex items-center justify-end space-x-4"},ce={key:0},pe={key:1},ke={__name:"Create",props:{employees:Array},setup(V){const t=A({employee_id:"",basic_salary:"",accommodation:"",allowances:"",overtime_amount:"",deductions:"",month:new Date().getMonth()+1,year:new Date().getFullYear()}),x=w(()=>{const r=parseFloat(t.basic_salary)||0,s=parseFloat(t.accommodation)||0,l=parseFloat(t.allowances)||0,f=parseFloat(t.overtime_amount)||0;return r+s+l+f}),S=w(()=>{const r=parseFloat(t.deductions)||0;return x.value-r}),F=()=>{t.post(route("admin.payroll.store"),{preserveScroll:!0,onSuccess:()=>t.reset()})},m=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"AED",minimumFractionDigits:2}).format(r),j=r=>["January","February","March","April","May","June","July","August","September","October","November","December"][r-1]||r;return(r,s)=>(c(),u(g,null,[a(o(C),{title:"Create Payroll"}),a(N,null,{header:p(()=>[e("div",B,[s[9]||(s[9]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Create Payroll",-1)),a(k,{href:r.route("admin.payroll.index")},{default:p(()=>s[8]||(s[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),h(" Back to Payroll ")])),_:1},8,["href"])])]),default:p(()=>[e("div",M,[e("div",P,[e("div",E,[e("div",$,[e("form",{onSubmit:D(F,["prevent"])},[e("div",q,[s[11]||(s[11]=e("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-6"},"Employee & Period Information",-1)),e("div",O,[e("div",null,[a(i,{for:"employee_id",value:"Employee"}),b(e("select",{id:"employee_id","onUpdate:modelValue":s[0]||(s[0]=l=>o(t).employee_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:"",autofocus:""},[s[10]||(s[10]=e("option",{value:""},"Select Employee",-1)),(c(!0),u(g,null,_(V.employees,l=>{var f;return c(),u("option",{key:l.id,value:l.id},n(l.employee_name)+" - "+n((f=l.department)==null?void 0:f.name),9,I)}),128))],512),[[v,o(t).employee_id]]),a(d,{message:o(t).errors.employee_id,class:"mt-2"},null,8,["message"])]),e("div",null,[a(i,{for:"month",value:"Month"}),b(e("select",{id:"month","onUpdate:modelValue":s[1]||(s[1]=l=>o(t).month=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},[(c(),u(g,null,_(12,l=>e("option",{key:l,value:l},n(j(l)),9,J)),64))],512),[[v,o(t).month]]),a(d,{message:o(t).errors.month,class:"mt-2"},null,8,["message"])]),e("div",null,[a(i,{for:"year",value:"Year"}),b(e("select",{id:"year","onUpdate:modelValue":s[2]||(s[2]=l=>o(t).year=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},[(c(),u(g,null,_([2024,2025,2026],l=>e("option",{key:l,value:l},n(l),9,Y)),64))],512),[[v,o(t).year]]),a(d,{message:o(t).errors.year,class:"mt-2"},null,8,["message"])])])]),e("div",G,[s[12]||(s[12]=e("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-6"},"Salary Information",-1)),e("div",L,[e("div",null,[a(i,{for:"basic_salary",value:"Basic Salary"}),a(y,{id:"basic_salary",modelValue:o(t).basic_salary,"onUpdate:modelValue":s[3]||(s[3]=l=>o(t).basic_salary=l),type:"number",step:"0.01",class:"mt-1 block w-full",required:"",placeholder:"0.00"},null,8,["modelValue"]),a(d,{message:o(t).errors.basic_salary,class:"mt-2"},null,8,["message"])]),e("div",null,[a(i,{for:"accommodation",value:"Accommodation Allowance"}),a(y,{id:"accommodation",modelValue:o(t).accommodation,"onUpdate:modelValue":s[4]||(s[4]=l=>o(t).accommodation=l),type:"number",step:"0.01",class:"mt-1 block w-full",placeholder:"0.00"},null,8,["modelValue"]),a(d,{message:o(t).errors.accommodation,class:"mt-2"},null,8,["message"])]),e("div",null,[a(i,{for:"allowances",value:"Other Allowances"}),a(y,{id:"allowances",modelValue:o(t).allowances,"onUpdate:modelValue":s[5]||(s[5]=l=>o(t).allowances=l),type:"number",step:"0.01",class:"mt-1 block w-full",placeholder:"0.00"},null,8,["modelValue"]),a(d,{message:o(t).errors.allowances,class:"mt-2"},null,8,["message"])]),e("div",null,[a(i,{for:"overtime_amount",value:"Overtime Amount"}),a(y,{id:"overtime_amount",modelValue:o(t).overtime_amount,"onUpdate:modelValue":s[6]||(s[6]=l=>o(t).overtime_amount=l),type:"number",step:"0.01",class:"mt-1 block w-full",placeholder:"0.00"},null,8,["modelValue"]),a(d,{message:o(t).errors.overtime_amount,class:"mt-2"},null,8,["message"])]),e("div",T,[a(i,{for:"deductions",value:"Deductions"}),a(y,{id:"deductions",modelValue:o(t).deductions,"onUpdate:modelValue":s[7]||(s[7]=l=>o(t).deductions=l),type:"number",step:"0.01",class:"mt-1 block w-full",placeholder:"0.00"},null,8,["modelValue"]),a(d,{message:o(t).errors.deductions,class:"mt-2"},null,8,["message"])])])]),e("div",z,[s[20]||(s[20]=e("h3",{class:"text-lg font-medium text-gray-900 border-b pb-2 mb-6"},"Salary Summary",-1)),e("div",H,[e("div",K,[e("div",Q,[e("div",R,[s[13]||(s[13]=e("span",{class:"text-sm font-medium text-gray-600"},"Basic Salary:",-1)),e("span",W,n(m(parseFloat(o(t).basic_salary)||0)),1)]),e("div",X,[s[14]||(s[14]=e("span",{class:"text-sm font-medium text-gray-600"},"Accommodation:",-1)),e("span",Z,n(m(parseFloat(o(t).accommodation)||0)),1)]),e("div",ee,[s[15]||(s[15]=e("span",{class:"text-sm font-medium text-gray-600"},"Allowances:",-1)),e("span",se,n(m(parseFloat(o(t).allowances)||0)),1)]),e("div",te,[s[16]||(s[16]=e("span",{class:"text-sm font-medium text-gray-600"},"Overtime:",-1)),e("span",oe,n(m(parseFloat(o(t).overtime_amount)||0)),1)])]),e("div",le,[e("div",ae,[s[17]||(s[17]=e("span",{class:"text-sm font-medium text-gray-600"},"Deductions:",-1)),e("span",re,n(m(parseFloat(o(t).deductions)||0)),1)]),e("div",ne,[s[18]||(s[18]=e("span",{class:"text-sm font-semibold text-gray-700"},"Gross Salary:",-1)),e("span",ie,n(m(x.value)),1)]),e("div",de,[s[19]||(s[19]=e("span",{class:"text-lg font-bold text-gray-800"},"Net Salary:",-1)),e("span",me,n(m(S.value)),1)])])])])]),e("div",ue,[a(k,{href:r.route("admin.payroll.index")},{default:p(()=>s[21]||(s[21]=[h(" Cancel ")])),_:1},8,["href"]),a(U,{disabled:o(t).processing},{default:p(()=>[o(t).processing?(c(),u("span",ce,"Creating...")):(c(),u("span",pe,"Create Payroll"))]),_:1},8,["disabled"])])],32)])])])])]),_:1})],64))}};export{ke as default};
