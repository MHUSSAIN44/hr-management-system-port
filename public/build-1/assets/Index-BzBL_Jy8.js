import{r as j,w as L,W as B,c as r,o,b as i,u as g,g as M,d as m,e,t as l,h as C,v as A,f as u,F as v,i as h,n as f,S as b,j as w}from"./app-CbFQf_sx.js";import{_ as V}from"./EmployeeLayout-DinDR6X8.js";import{_ as S}from"./Pagination-Dm5rR0tz.js";import"./ApplicationLogo-C9AT7BK-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-dbIahFAp.js";const z={class:"flex justify-between items-center"},D={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},R={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-blue-500"},q={class:"p-6"},E={class:"flex items-center justify-between"},F={class:"text-3xl font-bold text-blue-600"},O={class:"text-xs text-gray-500 mt-1"},U={class:"mt-3"},T={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800"},W={key:1,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800"},Y={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-red-500"},$={class:"p-6"},I={class:"flex items-center justify-between"},P={class:"text-3xl font-bold text-red-600"},G={class:"text-xs text-gray-500 mt-1"},J={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},K={class:"px-6 py-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center"},Q={class:"flex items-center space-x-2"},X={class:"p-6"},Z={class:"space-y-6"},ee={class:"flex items-start justify-between"},te={class:"flex-1"},se={class:"flex items-center space-x-3 mb-3"},ne={class:"text-sm text-gray-500"},re={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},oe={class:"text-sm text-gray-600"},le={class:"text-sm text-gray-600"},ae={class:"mb-4"},de={class:"text-sm text-gray-600"},ie={class:"mb-4"},ue={class:"flex items-center space-x-4"},me={class:"flex items-center"},ce={key:0,class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},xe={key:1,class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},ge={key:2},pe={key:3},ve={class:"ml-2 text-xs font-medium text-gray-700"},fe={key:0,class:"w-8 h-0.5 bg-gray-300 mx-2"},be={key:0,class:"space-y-2"},ye={key:0,class:"bg-blue-50 border-l-4 border-blue-400 p-3"},he={class:"text-sm text-blue-700"},we={key:1,class:"bg-purple-50 border-l-4 border-purple-400 p-3"},_e={class:"text-sm text-purple-700"},ke={class:"ml-4"},je={key:0,class:"text-center py-12"},Le={class:"mt-6"},Be={key:0,class:"mt-6"},De={__name:"Index",props:{leaves:Object,leaveBalance:Object},setup(a){const c=j(15);L([c],()=>{B.get(route("employee.leave.index"),{per_page:c.value},{preserveState:!0,replace:!0})});const p=n=>new Date(n).toLocaleDateString(),_=n=>{switch(n){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=n=>{switch(n){case"annual":return"bg-blue-100 text-blue-800";case"medical":return"bg-red-100 text-red-800";case"emergency":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},y=n=>[{name:"Submitted",status:"completed"},{name:"Manager Review",status:n.manager_status==="pending"?"current":n.manager_status==="approved"?"completed":"rejected"},{name:"Admin Review",status:n.admin_status==="pending"&&n.manager_status==="approved"?"current":n.admin_status==="approved"?"completed":n.admin_status==="rejected"?"rejected":"upcoming"},{name:"Final Decision",status:n.overall_status==="approved"?"completed":n.overall_status==="rejected"?"rejected":"upcoming"}];return(n,t)=>(o(),r(v,null,[i(g(M),{title:"My Leave Requests"}),i(V,null,{header:m(()=>[e("div",z,[t[2]||(t[2]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"My Leave Requests",-1)),i(g(b),{href:n.route("employee.leave.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 transition"},{default:m(()=>t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),w(" Apply for Leave ")])),_:1},8,["href"])])]),default:m(()=>[e("div",D,[e("div",N,[e("div",H,[e("div",R,[e("div",q,[e("div",E,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-500"},"Annual Leave",-1)),e("p",F,l(a.leaveBalance.annual_available),1),e("p",O," Accrued: "+l(a.leaveBalance.annual_accrued)+" | Used: "+l(a.leaveBalance.annual_used),1)]),t[4]||(t[4]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])])],-1))]),e("div",U,[a.leaveBalance.can_apply_annual?(o(),r("span",T," ✓ Eligible ")):(o(),r("span",W," ⏳ Not Eligible Yet "))])])]),e("div",Y,[e("div",$,[e("div",I,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-500"},"Medical Leave",-1)),e("p",P,l(a.leaveBalance.medical_available),1),e("p",G," Used: "+l(a.leaveBalance.medical_used)+"/14 days this year ",1)]),t[6]||(t[6]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])])],-1))]),t[7]||(t[7]=e("div",{class:"mt-3"},[e("span",{class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800"}," ✓ Available ")],-1))])]),t[8]||(t[8]=e("div",{class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-orange-500"},[e("div",{class:"p-6"},[e("div",{class:"flex items-center justify-between"},[e("div",null,[e("p",{class:"text-sm font-medium text-gray-500"},"Emergency Leave"),e("p",{class:"text-xl font-bold text-orange-600"},"No Limit"),e("p",{class:"text-xs text-gray-500 mt-1"}," Available from current date onwards ")]),e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])])])]),e("div",{class:"mt-3"},[e("span",{class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800"}," ✓ Always Available ")])])],-1))]),e("div",J,[e("div",K,[t[11]||(t[11]=e("h3",{class:"text-lg font-medium text-gray-900"},"My Leave History",-1)),e("div",Q,[t[10]||(t[10]=e("label",{class:"text-sm text-gray-600"},"Show:",-1)),C(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),class:"text-sm border-gray-300 rounded-md"},t[9]||(t[9]=[e("option",{value:15},"15",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1)]),512),[[A,c.value]])])]),e("div",X,[e("div",Z,[(o(!0),r(v,null,h(a.leaves.data,s=>(o(),r("div",{key:s.id,class:"bg-gray-50 border border-gray-200 rounded-lg p-6 hover:bg-gray-100 transition"},[e("div",ee,[e("div",te,[e("div",se,[e("span",{class:f(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",k(s.leave_type)])},l(s.leave_type)+" Leave ",3),e("span",{class:f(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",_(s.overall_status)])},l(s.overall_status),3),e("span",ne,l(s.days_requested)+" days",1)]),e("div",re,[e("div",null,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-gray-700"},"Duration",-1)),e("p",oe,l(p(s.start_date))+" to "+l(p(s.end_date)),1)]),e("div",null,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-gray-700"},"Applied On",-1)),e("p",le,l(p(s.created_at)),1)])]),e("div",ae,[t[14]||(t[14]=e("p",{class:"text-sm font-medium text-gray-700"},"Reason",-1)),e("p",de,l(s.reason),1)]),e("div",ie,[t[17]||(t[17]=e("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Approval Status",-1)),e("div",ue,[(o(!0),r(v,null,h(y(s),(d,x)=>(o(),r("div",{key:x,class:"flex items-center"},[e("div",me,[e("div",{class:f(["flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium",{"bg-green-500 text-white":d.status==="completed","bg-blue-500 text-white":d.status==="current","bg-red-500 text-white":d.status==="rejected","bg-gray-300 text-gray-600":d.status==="upcoming"}])},[d.status==="completed"?(o(),r("svg",ce,t[15]||(t[15]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):d.status==="rejected"?(o(),r("svg",xe,t[16]||(t[16]=[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]))):d.status==="current"?(o(),r("span",ge,l(x+1),1)):(o(),r("span",pe,l(x+1),1))],2),e("span",ve,l(d.name),1)]),x<y(s).length-1?(o(),r("div",fe)):u("",!0)]))),128))])]),s.manager_comments||s.admin_comments?(o(),r("div",be,[s.manager_comments?(o(),r("div",ye,[t[18]||(t[18]=e("p",{class:"text-sm font-medium text-blue-800"},"Manager Comments",-1)),e("p",he,l(s.manager_comments),1)])):u("",!0),s.admin_comments?(o(),r("div",we,[t[19]||(t[19]=e("p",{class:"text-sm font-medium text-purple-800"},"Admin Comments",-1)),e("p",_e,l(s.admin_comments),1)])):u("",!0)])):u("",!0)]),e("div",ke,[i(g(b),{href:n.route("employee.leave.show",s.id),class:"text-blue-600 hover:text-blue-900",title:"View Details"},{default:m(()=>t[20]||(t[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2},1032,["href"])])])]))),128)),a.leaves.data.length===0?(o(),r("div",je,[t[22]||(t[22]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t[23]||(t[23]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No leave requests",-1)),t[24]||(t[24]=e("p",{class:"mt-1 text-sm text-gray-500"},"You haven't applied for any leaves yet.",-1)),e("div",Le,[i(g(b),{href:n.route("employee.leave.create"),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"},{default:m(()=>t[21]||(t[21]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),w(" Apply for Leave ")])),_:1},8,["href"])])])):u("",!0)]),a.leaves.data.length>0?(o(),r("div",Be,[i(S,{links:a.leaves.links},null,8,["links"])])):u("",!0)])])])])]),_:1})],64))}};export{De as default};
