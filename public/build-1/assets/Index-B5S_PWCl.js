import{r as d,y as B,m as Z,c as l,o as a,b as S,u as H,g as ee,d as T,e,f as u,t as r,n as M,h as k,v as I,j as z,l as U,F as q,i as te,S as se,W as N}from"./app-CbFQf_sx.js";import{_ as oe}from"./EmployeeLayout-DinDR6X8.js";import{_ as ne}from"./Pagination-Dm5rR0tz.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-C9AT7BK-.js";import"./ResponsiveNavLink-dbIahFAp.js";const ae={class:"py-12"},re={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ie={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},de={class:"p-6"},ue={key:0,class:"mb-4 bg-green-50 border border-green-200 rounded-md p-4"},ce={class:"flex"},me={class:"ml-3"},xe={class:"text-sm text-green-700"},ge={class:"ml-auto pl-3"},fe={key:1,class:"mb-4 bg-red-50 border border-red-200 rounded-md p-4"},ve={class:"flex"},ye={class:"ml-3"},he={class:"text-sm text-red-700"},pe={class:"ml-auto pl-3"},we={key:2,class:"mb-4 bg-yellow-50 border border-yellow-200 rounded-md p-4"},be={class:"flex"},ke={class:"ml-3"},_e={class:"text-sm text-yellow-700"},Ce={class:"mt-2"},Ae={class:"ml-auto pl-3"},je={key:3,class:"mb-4 bg-red-50 border border-red-200 rounded-md p-4"},Se={class:"flex"},Me={class:"ml-3"},Oe={class:"text-sm text-red-700"},Le={class:"ml-auto pl-3"},Be={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Te={class:"bg-gray-50 rounded-lg p-4"},Ie={key:0,class:"space-y-2"},ze={class:"flex justify-between items-center"},Ne={key:0,class:"flex justify-between items-center"},Ve={key:1,class:"flex justify-between items-center"},De={class:"text-sm font-medium text-gray-900"},Pe={key:2,class:"flex justify-between items-center"},$e={class:"text-sm font-medium text-gray-900"},Ee={key:3,class:"flex justify-between items-center"},Fe={class:"text-sm font-medium text-gray-900"},He={key:1,class:"text-center py-4"},Ue={class:"bg-gray-50 rounded-lg p-4"},qe={key:0,class:"space-y-3"},Re=["disabled"],Ge={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Je={key:1,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ke={key:1,class:"space-y-3"},We={class:"text-center mb-3"},Xe={class:"text-2xl font-bold text-green-600"},Qe={key:2,class:"text-center py-4"},Ye={class:"text-xs text-gray-500"},Ze={key:3,class:"text-center py-4"},et={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},tt={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-blue-500"},st={class:"p-6"},ot={class:"flex items-center"},nt={class:"ml-5 w-0 flex-1"},lt={class:"text-lg font-medium text-gray-900"},at={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-green-500"},rt={class:"p-6"},it={class:"flex items-center"},dt={class:"ml-5 w-0 flex-1"},ut={class:"text-lg font-medium text-gray-900"},ct={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-yellow-500"},mt={class:"p-6"},xt={class:"flex items-center"},gt={class:"ml-5 w-0 flex-1"},ft={class:"text-lg font-medium text-gray-900"},vt={class:"bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-purple-500"},yt={class:"p-6"},ht={class:"flex items-center"},pt={class:"ml-5 w-0 flex-1"},wt={class:"text-lg font-medium text-gray-900"},bt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},kt={class:"p-6 bg-white border-b border-gray-200"},_t={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ct={class:"flex items-end"},At={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},jt={class:"p-6"},St={class:"overflow-x-auto"},Mt={class:"min-w-full divide-y divide-gray-200"},Ot={class:"bg-white divide-y divide-gray-200"},Lt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Bt={class:"px-6 py-4 whitespace-nowrap"},Tt={key:1,class:"text-sm text-gray-500"},It={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Vt={class:"px-6 py-4 whitespace-nowrap"},Dt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Pt={key:0},$t={key:0,class:"mt-6"},Et={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ft={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ht={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ut={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},qt={class:"sm:flex sm:items-start"},Rt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Gt={class:"mt-2"},Jt={class:"mt-4"},Kt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Wt=["disabled"],Xt={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Qt={__name:"Index",props:{attendance:Object,todayAttendance:Object,monthlyStats:Object,employee:Object,filters:Object},setup(n){const c=n,x=d(!1),v=d(!1),V=d(null),m=d(""),y=d(""),g=d(""),O=d("morning"),p=d(""),w=d(!1),h=d(""),L=d(!1),_=d(c.filters.month||new Date().toISOString().slice(0,7)),C=d(c.filters.status||""),A=d(c.filters.shift||""),R=B(()=>!c.todayAttendance||!c.todayAttendance.check_in_time),G=B(()=>c.todayAttendance&&c.todayAttendance.check_in_time&&!c.todayAttendance.check_out_time&&c.todayAttendance.status==="checked_in");B(()=>c.todayAttendance&&c.todayAttendance.status==="checked_in");const D=()=>new Promise((o,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by this browser."));return}v.value=!0,m.value="";const s={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(async i=>{try{const{latitude:f,longitude:F,accuracy:Q}=i.coords,Y=await J(f,F);V.value={latitude:f,longitude:F,accuracy:Q,address:Y},v.value=!1,o(V.value)}catch(f){v.value=!1,t(f)}},i=>{v.value=!1;let f="Unable to get your location.";switch(i.code){case i.PERMISSION_DENIED:f="Location access denied. Please enable location permissions in your browser settings.";break;case i.POSITION_UNAVAILABLE:f="Location information is unavailable. Please check your GPS settings.";break;case i.TIMEOUT:f="Location request timed out. Please try again.";break}t(new Error(f))},s)}),J=async(o,t)=>{try{const i=await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${o}+${t}&key=5d01ea6d9065400381fd1a688770790e`)).json();return i.results&&i.results.length>0?i.results[0].formatted:`${o.toFixed(6)}, ${t.toFixed(6)}`}catch{return`${o.toFixed(6)}, ${t.toFixed(6)}`}},P=async()=>{if(!x.value)try{x.value=!0,m.value="",y.value="",g.value="";const o=await D(),s=await(await fetch(route("employee.attendance.checkin"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json"},body:JSON.stringify({latitude:o.latitude,longitude:o.longitude,accuracy:o.accuracy,address:o.address,shift:O.value})})).json();if(s.success)g.value=s.message,N.reload({only:["todayAttendance","monthlyStats"]}),setTimeout(()=>{g.value=""},5e3);else if(s.errors){const i=Object.values(s.errors).flat();y.value=i.join(" ")}else y.value=s.message||"Check-in failed. Please try again."}catch(o){console.error("Check-in error:",o),o.message.includes("location")?m.value=o.message:y.value="Network error. Please check your connection and try again."}finally{x.value=!1}},K=()=>{w.value=!0,p.value=""},W=async()=>{if(!L.value)try{L.value=!0,m.value="",h.value="",g.value="";const o=await D(),s=await(await fetch(route("employee.attendance.checkout"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json"},body:JSON.stringify({latitude:o.latitude,longitude:o.longitude,accuracy:o.accuracy,address:o.address,notes:p.value})})).json();if(s.success)g.value=s.message,w.value=!1,p.value="",N.reload({only:["todayAttendance","monthlyStats"]}),setTimeout(()=>{g.value=""},5e3);else if(s.errors){const i=Object.values(s.errors).flat();h.value=i.join(" ")}else h.value=s.message||"Check-out failed. Please try again."}catch(o){console.error("Check-out error:",o),o.message.includes("location")?m.value=o.message:h.value="Network error. Please check your connection and try again."}finally{L.value=!1}},j=()=>{N.get(route("employee.attendance.index"),{month:_.value,status:C.value,shift:A.value},{preserveState:!0,replace:!0})},X=o=>new Date(o).toLocaleDateString(),b=o=>o?new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",$=o=>{switch(o){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";case"half_day":return"bg-orange-100 text-orange-800";case"checked_in":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},E=o=>{switch(o){case"morning":return"bg-blue-100 text-blue-800";case"evening":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return Z(()=>{"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(o=>{o.state==="denied"&&(m.value="Location permission is denied. Please enable it in your browser settings.")})}),(o,t)=>(a(),l(q,null,[S(H(ee),{title:"My Attendance"}),S(oe,null,{header:T(()=>t[13]||(t[13]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"My Attendance",-1)])),default:T(()=>[e("div",ae,[e("div",re,[e("div",ie,[e("div",de,[t[39]||(t[39]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Today's Attendance",-1)),g.value?(a(),l("div",ue,[e("div",ce,[t[15]||(t[15]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",me,[e("p",xe,r(g.value),1)]),e("div",ge,[e("button",{onClick:t[0]||(t[0]=s=>g.value=""),class:"text-green-400 hover:text-green-600"},t[14]||(t[14]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])])):u("",!0),y.value?(a(),l("div",fe,[e("div",ve,[t[17]||(t[17]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",ye,[e("p",he,r(y.value),1)]),e("div",pe,[e("button",{onClick:t[1]||(t[1]=s=>y.value=""),class:"text-red-400 hover:text-red-600"},t[16]||(t[16]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])])):u("",!0),m.value?(a(),l("div",we,[e("div",be,[t[19]||(t[19]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",ke,[e("p",_e,r(m.value),1),e("div",Ce,[e("button",{onClick:t[2]||(t[2]=s=>{m.value="",P()}),class:"text-sm text-yellow-800 hover:text-yellow-600 underline"}," Try Again ")])]),e("div",Ae,[e("button",{onClick:t[3]||(t[3]=s=>m.value=""),class:"text-yellow-400 hover:text-yellow-600"},t[18]||(t[18]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])])):u("",!0),h.value?(a(),l("div",je,[e("div",Se,[t[21]||(t[21]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",Me,[e("p",Oe,r(h.value),1)]),e("div",Le,[e("button",{onClick:t[4]||(t[4]=s=>h.value=""),class:"text-red-400 hover:text-red-600"},t[20]||(t[20]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])])):u("",!0),e("div",Be,[e("div",Te,[t[28]||(t[28]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Current Status",-1)),n.todayAttendance?(a(),l("div",Ie,[e("div",ze,[t[22]||(t[22]=e("span",{class:"text-sm text-gray-600"},"Status:",-1)),e("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",$(n.todayAttendance.status)])},r(n.todayAttendance.status),3)]),n.todayAttendance.shift?(a(),l("div",Ne,[t[23]||(t[23]=e("span",{class:"text-sm text-gray-600"},"Shift:",-1)),e("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",E(n.todayAttendance.shift)])},r(n.todayAttendance.shift),3)])):u("",!0),n.todayAttendance.check_in_time?(a(),l("div",Ve,[t[24]||(t[24]=e("span",{class:"text-sm text-gray-600"},"Check In:",-1)),e("span",De,r(b(n.todayAttendance.check_in_time)),1)])):u("",!0),n.todayAttendance.check_out_time?(a(),l("div",Pe,[t[25]||(t[25]=e("span",{class:"text-sm text-gray-600"},"Check Out:",-1)),e("span",$e,r(b(n.todayAttendance.check_out_time)),1)])):u("",!0),n.todayAttendance.total_hours?(a(),l("div",Ee,[t[26]||(t[26]=e("span",{class:"text-sm text-gray-600"},"Total Hours:",-1)),e("span",Fe,r(n.todayAttendance.total_hours)+" hrs",1)])):u("",!0)])):(a(),l("div",He,t[27]||(t[27]=[e("p",{class:"text-sm text-gray-500"},"No attendance record for today",-1)])))]),e("div",Ue,[t[38]||(t[38]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Quick Actions",-1)),R.value?(a(),l("div",qe,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Select Shift",-1)),k(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>O.value=s),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},t[29]||(t[29]=[e("option",{value:"full-time"},"Full Time",-1),e("option",{value:"morning"},"Morning Shift",-1),e("option",{value:"evening"},"Evening Shift",-1)]),512),[[I,O.value]])]),e("button",{onClick:P,disabled:x.value||v.value,class:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},[x.value||v.value?(a(),l("svg",Ge,t[31]||(t[31]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(a(),l("svg",Je,t[32]||(t[32]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),z(" "+r(x.value?"Checking In...":v.value?"Getting Location...":"Check In"),1)],8,Re)])):G.value?(a(),l("div",Ke,[e("div",We,[e("div",Xe,r(b(n.todayAttendance.check_in_time)),1),t[33]||(t[33]=e("div",{class:"text-sm text-gray-500"},"Checked in",-1))]),e("button",{onClick:K,class:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},t[34]||(t[34]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),z(" Check Out ")]))])):n.todayAttendance&&n.todayAttendance.check_out_time?(a(),l("div",Qe,[t[35]||(t[35]=e("div",{class:"text-green-600 mb-2"},[e("svg",{class:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[36]||(t[36]=e("p",{class:"text-sm font-medium text-gray-900"},"Day Complete!",-1)),e("p",Ye,r(n.todayAttendance.total_hours)+" hours worked",1)])):(a(),l("div",Ze,t[37]||(t[37]=[e("p",{class:"text-sm text-gray-500"},"Ready to start your day?",-1)])))])])])]),e("div",et,[e("div",tt,[e("div",st,[e("div",ot,[t[41]||(t[41]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])])],-1)),e("div",nt,[e("dl",null,[t[40]||(t[40]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Days",-1)),e("dd",lt,r(n.monthlyStats.total_days),1)])])])])]),e("div",at,[e("div",rt,[e("div",it,[t[43]||(t[43]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",dt,[e("dl",null,[t[42]||(t[42]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Present Days",-1)),e("dd",ut,r(n.monthlyStats.present_days),1)])])])])]),e("div",ct,[e("div",mt,[e("div",xt,[t[45]||(t[45]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",gt,[e("dl",null,[t[44]||(t[44]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Late Days",-1)),e("dd",ft,r(n.monthlyStats.late_days),1)])])])])]),e("div",vt,[e("div",yt,[e("div",ht,[t[47]||(t[47]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",pt,[e("dl",null,[t[46]||(t[46]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Hours",-1)),e("dd",wt,r(Math.round(n.monthlyStats.total_hours*100)/100),1)])])])])])]),e("div",bt,[e("div",kt,[t[53]||(t[53]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Filter Attendance History",-1)),e("div",_t,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Month",-1)),k(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>_.value=s),type:"month",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",onChange:j},null,544),[[U,_.value]])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),k(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>C.value=s),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",onChange:j},t[49]||(t[49]=[e("option",{value:""},"All Status",-1),e("option",{value:"present"},"Present",-1),e("option",{value:"absent"},"Absent",-1),e("option",{value:"late"},"Late",-1),e("option",{value:"half_day"},"Half Day",-1),e("option",{value:"checked_in"},"Checked In",-1)]),544),[[I,C.value]])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Shift",-1)),k(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>A.value=s),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",onChange:j},t[51]||(t[51]=[e("option",{value:""},"All Shifts",-1),e("option",{value:"full-time"},"Full Time",-1),e("option",{value:"morning"},"Morning",-1),e("option",{value:"evening"},"Evening",-1)]),544),[[I,A.value]])]),e("div",Ct,[e("button",{onClick:t[9]||(t[9]=s=>{_.value=new Date().toISOString().slice(0,7),C.value="",A.value="",j()}),class:"px-4 py-2 bg-gray-200 rounded-md text-xs font-semibold text-gray-700 hover:bg-gray-300"}," Reset Filters ")])])])]),e("div",At,[t[57]||(t[57]=e("div",{class:"px-6 py-4 bg-gray-50 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Attendance History")],-1)),e("div",jt,[e("div",St,[e("table",Mt,[t[56]||(t[56]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Shift"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Check In"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Check Out"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Hours"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Ot,[(a(!0),l(q,null,te(n.attendance.data,s=>(a(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Lt,r(X(s.date)),1),e("td",Bt,[s.shift?(a(),l("span",{key:0,class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",E(s.shift)])},r(s.shift),3)):(a(),l("span",Tt,"-"))]),e("td",It,r(b(s.check_in_time)),1),e("td",zt,r(b(s.check_out_time)),1),e("td",Nt,r(s.total_hours?s.total_hours+" hrs":"-"),1),e("td",Vt,[e("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",$(s.status)])},r(s.status),3)]),e("td",Dt,[S(H(se),{href:o.route("employee.attendance.show",s.id),class:"text-blue-600 hover:text-blue-900",title:"View Details"},{default:T(()=>t[54]||(t[54]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2},1032,["href"])])]))),128)),n.attendance.data.length===0?(a(),l("tr",Pt,t[55]||(t[55]=[e("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"}," No attendance records found for the selected period. ",-1)]))):u("",!0)])])]),n.attendance.data.length>0?(a(),l("div",$t,[S(ne,{links:n.attendance.links},null,8,["links"])])):u("",!0)])])])]),w.value?(a(),l("div",Et,[e("div",Ft,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[10]||(t[10]=s=>w.value=!1)}),t[63]||(t[63]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",Ht,[e("div",Ut,[e("div",qt,[t[61]||(t[61]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})])],-1)),e("div",Rt,[t[60]||(t[60]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Check Out",-1)),e("div",Gt,[t[59]||(t[59]=e("p",{class:"text-sm text-gray-500"}," Are you sure you want to check out? This will mark the end of your work day. ",-1)),e("div",Jt,[t[58]||(t[58]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700"},"Notes (Optional)",-1)),k(e("textarea",{id:"notes","onUpdate:modelValue":t[11]||(t[11]=s=>p.value=s),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Add any notes about your work day..."},null,512),[[U,p.value]])])])])])]),e("div",Kt,[e("button",{onClick:W,disabled:x.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[x.value?(a(),l("svg",Xt,t[62]||(t[62]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),z(" "+r(x.value?"Checking Out...":"Check Out"),1)],8,Wt),e("button",{onClick:t[12]||(t[12]=s=>w.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):u("",!0)]),_:1})],64))}},ns=le(Qt,[["__scopeId","data-v-29085a97"]]);export{ns as default};
