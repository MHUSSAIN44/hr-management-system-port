import{_ as m,a as c}from"./InputError-BcXEORy4.js";import{_ as g}from"./TextInput-Ddq2mNMX.js";import{r as k,w as y,c as i,o as u,e,f as v,j as V,F as w,i as C,t as D,b as r}from"./app-CbFQf_sx.js";const $={class:"space-y-4"},j={key:0,class:"text-center py-8 text-gray-500"},B={class:"flex items-center justify-between mb-4"},A={class:"text-sm font-medium text-gray-700"},F=["onClick"],N={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},U=["id","onChange"],H={__name:"DocumentUploader",props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(d,{emit:b}){const f=d,x=b,o=k([...f.modelValue]);y(()=>f.modelValue,s=>{o.value=[...s]},{deep:!0}),y(o,s=>{x("update:modelValue",s)},{deep:!0});const p=()=>{o.value.push({title:"",file:null,expiry_date:""})},_=s=>{o.value.splice(s,1)},h=(s,t)=>{o.value[s].file=t.target.files[0]};return(s,t)=>(u(),i("div",$,[e("div",{class:"flex items-center justify-between"},[t[1]||(t[1]=e("h4",{class:"text-lg font-medium text-gray-900"},"Employee Documents",-1)),e("button",{type:"button",onClick:p,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},t[0]||(t[0]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),V(" Add Document ")]))]),o.value.length===0?(u(),i("div",j,[t[2]||(t[2]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[3]||(t[3]=e("p",{class:"mt-2"},"No documents added yet.",-1)),e("button",{type:"button",onClick:p,class:"mt-2 text-blue-600 hover:text-blue-900"}," Add your first document ")])):v("",!0),(u(!0),i(w,null,C(o.value,(a,l)=>(u(),i("div",{key:l,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},[e("div",B,[e("h5",A,"Document "+D(l+1),1),o.value.length>1||a.title||a.file?(u(),i("button",{key:0,type:"button",onClick:n=>_(l),class:"text-red-600 hover:text-red-900"},t[4]||(t[4]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,F)):v("",!0)]),e("div",N,[e("div",null,[r(m,{for:`document_title_${l}`,value:"Document Title"},null,8,["for"]),r(g,{id:`document_title_${l}`,modelValue:a.title,"onUpdate:modelValue":n=>a.title=n,type:"text",class:"mt-1 block w-full",placeholder:"e.g., Academic Certificate"},null,8,["id","modelValue","onUpdate:modelValue"]),r(c,{message:d.errors[`documents.${l}.title`],class:"mt-2"},null,8,["message"])]),e("div",null,[r(m,{for:`document_file_${l}`,value:"Document File"},null,8,["for"]),e("input",{type:"file",id:`document_file_${l}`,onChange:n=>h(l,n),class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*,application/pdf,.doc,.docx"},null,40,U),r(c,{message:d.errors[`documents.${l}.file`],class:"mt-2"},null,8,["message"]),t[5]||(t[5]=e("p",{class:"mt-1 text-xs text-gray-500"},"PDF, DOC, DOCX, or image files only",-1))]),e("div",null,[r(m,{for:`document_expiry_${l}`,value:"Expiry Date (Optional)"},null,8,["for"]),r(g,{id:`document_expiry_${l}`,modelValue:a.expiry_date,"onUpdate:modelValue":n=>a.expiry_date=n,type:"date",class:"mt-1 block w-full"},null,8,["id","modelValue","onUpdate:modelValue"]),r(c,{message:d.errors[`documents.${l}.expiry_date`],class:"mt-2"},null,8,["message"])])])]))),128))]))}};export{H as _};
